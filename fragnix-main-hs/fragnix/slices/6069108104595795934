{"sliceID":6069108104595795934,"uses":[{"reference":{"otherSlice":2056757947021583308},"usedName":{"valueName":{"identifier":"way256"}},"qualification":null},{"reference":{"otherSlice":3191844957948247487},"usedName":{"valueName":{"identifier":"unsafeAt"}},"qualification":null},{"reference":{"otherSlice":8884415523729929273},"usedName":{"constructorName":{"identifier":"WayStep"},"constructorTypeName":{"identifier":"WayStep"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"valueName":{"identifier":"throwIO"}},"qualification":null},{"reference":{"otherSlice":6823601443434643176},"usedName":{"constructorName":{"identifier":"IllegalEos"},"constructorTypeName":{"identifier":"DecodeError"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<="}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":6823601443434643176},"usedName":{"constructorName":{"identifier":"TooLongEos"},"constructorTypeName":{"identifier":"DecodeError"}},"qualification":null},{"reference":{"otherSlice":8129972227451485047},"usedName":{"valueName":{"identifier":"getByte"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"otherSlice":4954502008158362808},"usedName":{"valueName":{"identifier":"next"}},"qualification":null},{"reference":{"otherSlice":8231887721197849583},"usedName":{"constructorName":{"identifier":"EndOfString"},"constructorTypeName":{"identifier":"Pin"}},"qualification":null},{"reference":{"otherSlice":6823601443434643176},"usedName":{"constructorName":{"identifier":"EosInTheMiddle"},"constructorTypeName":{"identifier":"DecodeError"}},"qualification":null},{"reference":{"otherSlice":8231887721197849583},"usedName":{"constructorName":{"identifier":"Forward"},"constructorTypeName":{"identifier":"Pin"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"fromIntegral"}},"qualification":null},{"reference":{"otherSlice":8231887721197849583},"usedName":{"constructorName":{"identifier":"GoBack"},"constructorTypeName":{"identifier":"Pin"}},"qualification":null},{"reference":{"otherSlice":5885623136665892239},"usedName":{"valueName":{"identifier":"writeWord8"}},"qualification":null},{"reference":{"otherSlice":8231887721197849583},"usedName":{"constructorName":{"identifier":"GoBack2"},"constructorTypeName":{"identifier":"Pin"}},"qualification":null},{"reference":{"otherSlice":8748167810724547885},"usedName":{"typeName":{"identifier":"WorkingBuffer"}},"qualification":null},{"reference":{"otherSlice":3829111669494975350},"usedName":{"typeName":{"identifier":"ReadBuffer"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["dec :: WorkingBuffer -> ReadBuffer -> Int -> IO ()","dec wbuf rbuf len = go len (way256 `unsafeAt` 0)\n  where go 0 way0\n          = case way0 of\n                WayStep Nothing _ -> throwIO IllegalEos\n                WayStep (Just i) _ | i <= 8 -> return ()\n                                   | otherwise -> throwIO TooLongEos\n        go !n !way0\n          = do w <- getByte rbuf\n               way <- doit way0 w\n               go (n - 1) way\n        doit !way !w\n          = case next way w of\n                EndOfString -> throwIO EosInTheMiddle\n                Forward n -> return $ way256 `unsafeAt` fromIntegral n\n                GoBack n v -> do writeWord8 wbuf v\n                                 return $ way256 `unsafeAt` fromIntegral n\n                GoBack2 n v1 v2 -> do writeWord8 wbuf v1\n                                      writeWord8 wbuf v2\n                                      return $ way256 `unsafeAt` fromIntegral n"],"instances":[],"language":{"extensions":["BangPatterns","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}