{"sliceID":3227371753025299259,"uses":[{"reference":{"otherSlice":9007148313325032603},"usedName":{"valueName":{"identifier":"allocateBuffer"}},"qualification":null},{"reference":{"otherSlice":356066979574737112},"usedName":{"valueName":{"identifier":"bufferSize"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"constructorName":{"identifier":"Connection"},"constructorTypeName":{"identifier":"Connection"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connSendMany"}},"qualification":null},{"reference":{"otherSlice":737711690364248460},"usedName":{"valueName":{"identifier":"sendMany"}},"qualification":"Sock"},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connSendAll"}},"qualification":null},{"reference":{"otherSlice":5966210289915665533},"usedName":{"valueName":{"identifier":"sendAll"}},"qualification":"Sock"},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connSendFile"}},"qualification":null},{"reference":{"otherSlice":2379662262234030718},"usedName":{"valueName":{"identifier":"defaultSendFile"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connClose"}},"qualification":null},{"reference":{"otherSlice":1812067098603633874},"usedName":{"valueName":{"identifier":"sClose"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":">>"}},"qualification":null},{"reference":{"otherSlice":3597752928249629736},"usedName":{"valueName":{"identifier":"freeBuffer"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connRecv"}},"qualification":null},{"reference":{"otherSlice":7610184002976315441},"usedName":{"valueName":{"identifier":"receive"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connReadBuffer"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connWriteBuffer"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connBufferSize"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"valueName":{"identifier":"connSendFileOverride"}},"qualification":null},{"reference":{"otherSlice":8307992788350726372},"usedName":{"constructorName":{"identifier":"Override"},"constructorTypeName":{"identifier":"ConnSendFileOverride"}},"qualification":null},{"reference":{"otherSlice":3934872489478287384},"usedName":{"typeName":{"identifier":"Socket"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"typeName":{"identifier":"Connection"}},"qualification":null}],"fragment":["socketConnection :: Socket -> IO Connection","socketConnection s\n  = do readBuf <- allocateBuffer bufferSize\n       writeBuf <- allocateBuffer bufferSize\n       return\n         Connection{connSendMany = Sock.sendMany s,\n                    connSendAll = Sock.sendAll s, connSendFile = defaultSendFile s,\n                    connClose = sClose s >> freeBuffer readBuf >> freeBuffer writeBuf,\n                    connRecv = receive s readBuf bufferSize, connReadBuffer = readBuf,\n                    connWriteBuffer = writeBuf, connBufferSize = bufferSize,\n                    connSendFileOverride = Override s}"],"instances":[],"language":{"extensions":["OverloadedStrings","ScopedTypeVariables","TupleSections","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}