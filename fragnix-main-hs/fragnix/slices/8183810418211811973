{"sliceID":8183810418211811973,"uses":[{"reference":{"builtinModule":"GHC.IO.Unsafe"},"usedName":{"valueName":{"identifier":"unsafePerformIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":6781607766981323541},"usedName":{"valueName":{"identifier":"withNewTermios"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peekByteOff"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"pokeByteOff"}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".&."}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"identifier":"complement"}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".|."}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"builtinModule":"System.Posix.Types"},"usedName":{"typeName":{"identifier":"CTcflag"}},"qualification":null},{"reference":{"builtinModule":"GHC.Err"},"usedName":{"valueName":{"identifier":"error"}},"qualification":null},{"reference":{"otherSlice":308520236306351161},"usedName":{"typeName":{"identifier":"TerminalAttributes"}},"qualification":null}],"fragment":["withBits :: TerminalAttributes -> Int -> TerminalAttributes","withBits termios bits\n  = unsafePerformIO $\n      do withNewTermios termios $\n           \\ p ->\n             do cflag <- ((\\ hsc_ptr -> peekByteOff hsc_ptr 8)) p\n                ((\\ hsc_ptr -> pokeByteOff hsc_ptr 8)) p\n                  ((cflag .&. complement (48)) .|. mask bits)\n  where mask :: Int -> CTcflag\n        mask 5 = (0)\n        mask 6 = (16)\n        mask 7 = (32)\n        mask 8 = (48)\n        mask _ = error \"withBits bit value out of range [5..8]\""],"instances":[],"language":{"extensions":["CApiFFI","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}