{"sliceID":8971263552569952258,"uses":[{"reference":{"otherSlice":4510679362373562038},"usedName":{"valueName":{"identifier":"equalFilePath"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"/="}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"dropWhile"}},"qualification":null},{"reference":{"otherSlice":7018349161896175961},"usedName":{"valueName":{"identifier":"isPathSeparator"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"break"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":3626545165219370999},"usedName":{"valueName":{"identifier":"hasLeadingPathSeparator"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"otherSlice":7134552215026115437},"usedName":{"valueName":{"identifier":"hasDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"tail"}},"qualification":null},{"reference":{"otherSlice":682591767152260189},"usedName":{"valueName":{"identifier":"dropDrive"}},"qualification":null},{"reference":{"otherSlice":6938928625833616054},"usedName":{"valueName":{"identifier":"pathSeparator"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"builtinModule":"GHC.Unicode"},"usedName":{"valueName":{"identifier":"toLower"}},"qualification":null},{"reference":{"otherSlice":5230034029126818477},"usedName":{"valueName":{"identifier":"takeDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"typeName":{"identifier":"FilePath"}},"qualification":null}],"fragment":["makeRelative :: FilePath -> FilePath -> FilePath","makeRelative root path\n  | equalFilePath root path = \".\"\n  | takeAbs root /= takeAbs path = path\n  | otherwise = f (dropAbs root) (dropAbs path)\n  where f \"\" y = dropWhile isPathSeparator y\n        f x y\n          = let (x1, x2) = g x\n                (y1, y2) = g y\n              in if equalFilePath x1 y1 then f x2 y2 else path\n        g x = (dropWhile isPathSeparator a, dropWhile isPathSeparator b)\n          where (a, b) = break isPathSeparator $ dropWhile isPathSeparator x\n        dropAbs x | hasLeadingPathSeparator x && not (hasDrive x) = tail x\n        dropAbs x = dropDrive x\n        takeAbs x\n          | hasLeadingPathSeparator x && not (hasDrive x) = [pathSeparator]\n        takeAbs x\n          = map\n              (\\ y -> if isPathSeparator y then pathSeparator else toLower y)\n              $ takeDrive x"],"instances":[],"language":{"extensions":["PatternGuards","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"],"isInstance":false}}