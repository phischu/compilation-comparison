{"sliceID":2190050577187834567,"uses":[{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"otherSlice":5699939631341628310},"usedName":{"valueName":{"identifier":"bitsPerSubkey"}},"qualification":null},{"reference":{"otherSlice":69572679904461162},"usedName":{"valueName":{"identifier":"singletonM"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"otherSlice":1013433531415570027},"usedName":{"constructorName":{"identifier":"BitmapIndexed"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":7452509362769844771},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":1013433531415570027},"usedName":{"constructorName":{"identifier":"Leaf"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"otherSlice":9205917895425065335},"usedName":{"constructorName":{"identifier":"L"},"constructorTypeName":{"identifier":"Leaf"}},"qualification":null},{"reference":{"otherSlice":5770064233821844047},"usedName":{"valueName":{"identifier":"write"}},"qualification":"A"},{"reference":{"otherSlice":740356862755396463},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"A"},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".|."}},"qualification":null},{"reference":{"otherSlice":7149195466254759117},"usedName":{"valueName":{"identifier":"mask"}},"qualification":null},{"reference":{"otherSlice":3166271543971936421},"usedName":{"valueName":{"identifier":"index"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"otherSlice":3622698658827132243},"usedName":{"typeName":{"identifier":"Shift"}},"qualification":null},{"reference":{"otherSlice":328541844752843241},"usedName":{"typeName":{"identifier":"Hash"}},"qualification":null},{"reference":{"builtinModule":"GHC.ST"},"usedName":{"typeName":{"identifier":"ST"}},"qualification":null},{"reference":{"otherSlice":1013433531415570027},"usedName":{"typeName":{"identifier":"HashMap"}},"qualification":null}],"fragment":["two ::\n    Shift -> Hash -> k -> v -> Hash -> k -> v -> ST s (HashMap k v)","two = go\n  where go s h1 k1 v1 h2 k2 v2\n          | bp1 == bp2 =\n            do st <- go (s + bitsPerSubkey) h1 k1 v1 h2 k2 v2\n               ary <- A.singletonM st\n               return $! BitmapIndexed bp1 ary\n          | otherwise =\n            do mary <- A.new 2 $ Leaf h1 (L k1 v1)\n               A.write mary idx2 $ Leaf h2 (L k2 v2)\n               ary <- A.unsafeFreeze mary\n               return $! BitmapIndexed (bp1 .|. bp2) ary\n          where bp1 = mask h1 s\n                bp2 = mask h2 s\n                idx2\n                  | index h1 s < index h2 s = 1\n                  | otherwise = 0"],"instances":[],"language":{"extensions":["BangPatterns","DeriveDataTypeable","MagicHash","ScopedTypeVariables","PatternGuards","RoleAnnotations","TypeFamilies","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"],"isInstance":false}}