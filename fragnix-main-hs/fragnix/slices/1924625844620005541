{"sliceID":1924625844620005541,"uses":[{"reference":{"otherSlice":6581712628843041540},"usedName":{"constructorName":{"identifier":"CreateProcess"},"constructorTypeName":{"identifier":"CreateProcess"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"cmdspec"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"cwd"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"env"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"std_in"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"std_out"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"std_err"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"close_fds"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"create_group"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"valueName":{"identifier":"delegate_ctlc"}},"qualification":null},{"reference":{"otherSlice":7434173256780268484},"usedName":{"valueName":{"identifier":"commandToProcess"}},"qualification":null},{"reference":{"otherSlice":7580561923830254351},"usedName":{"valueName":{"identifier":"withFilePathException"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Alloc"},"usedName":{"valueName":{"identifier":"alloca"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Utils"},"usedName":{"valueName":{"identifier":"maybeWith"}},"qualification":null},{"reference":{"otherSlice":8933656092912888265},"usedName":{"valueName":{"identifier":"withCEnvironment"}},"qualification":null},{"reference":{"builtinModule":"System.Posix.Internals"},"usedName":{"valueName":{"identifier":"withFilePath"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Utils"},"usedName":{"valueName":{"identifier":"withMany"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Array"},"usedName":{"valueName":{"identifier":"withArray0"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"nullPtr"}},"qualification":null},{"reference":{"otherSlice":344921980579958969},"usedName":{"valueName":{"identifier":"mbFd"}},"qualification":null},{"reference":{"otherSlice":8558214626403651202},"usedName":{"valueName":{"identifier":"fd_stdin"}},"qualification":null},{"reference":{"otherSlice":8558214626403651202},"usedName":{"valueName":{"identifier":"fd_stdout"}},"qualification":null},{"reference":{"otherSlice":8558214626403651202},"usedName":{"valueName":{"identifier":"fd_stderr"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad"},"usedName":{"valueName":{"identifier":"when"}},"qualification":null},{"reference":{"otherSlice":4643362743675463074},"usedName":{"valueName":{"identifier":"startDelegateControlC"}},"qualification":null},{"reference":{"builtinModule":"Control.Concurrent.MVar"},"usedName":{"valueName":{"identifier":"withMVar"}},"qualification":null},{"reference":{"otherSlice":1520476279553009525},"usedName":{"valueName":{"identifier":"runInteractiveProcess_lock"}},"qualification":null},{"reference":{"otherSlice":526593422261287630},"usedName":{"valueName":{"identifier":"c_runInteractiveProcess"}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".|."}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peek"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.String"},"usedName":{"valueName":{"identifier":"peekCString"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.Error"},"usedName":{"valueName":{"identifier":"throwErrno"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"++"}},"qualification":null},{"reference":{"otherSlice":194534568942676739},"usedName":{"valueName":{"identifier":"mbPipe"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.IOMode"},"usedName":{"constructorName":{"identifier":"WriteMode"},"constructorTypeName":{"identifier":"IOMode"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.IOMode"},"usedName":{"constructorName":{"identifier":"ReadMode"},"constructorTypeName":{"identifier":"IOMode"}},"qualification":null},{"reference":{"otherSlice":1310111866997868431},"usedName":{"valueName":{"identifier":"mkProcessHandle"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":6581712628843041540},"usedName":{"typeName":{"identifier":"CreateProcess"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"typeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.Handle.Types"},"usedName":{"typeName":{"identifier":"Handle"}},"qualification":null},{"reference":{"otherSlice":2861246407237030394},"usedName":{"typeName":{"identifier":"ProcessHandle"}},"qualification":null}],"fragment":["createProcess_ ::\n               String ->\n                 CreateProcess ->\n                   IO (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle)","createProcess_ fun\n  CreateProcess{cmdspec = cmdsp, cwd = mb_cwd, env = mb_env,\n                std_in = mb_stdin, std_out = mb_stdout, std_err = mb_stderr,\n                close_fds = mb_close_fds, create_group = mb_create_group,\n                delegate_ctlc = mb_delegate_ctlc}\n  = do let (cmd, args) = commandToProcess cmdsp\n       withFilePathException cmd $\n         alloca $\n           \\ pfdStdInput ->\n             alloca $\n               \\ pfdStdOutput ->\n                 alloca $\n                   \\ pfdStdError ->\n                     alloca $\n                       \\ pFailedDoing ->\n                         maybeWith withCEnvironment mb_env $\n                           \\ pEnv ->\n                             maybeWith withFilePath mb_cwd $\n                               \\ pWorkDir ->\n                                 withMany withFilePath (cmd : args) $\n                                   \\ cstrs ->\n                                     withArray0 nullPtr cstrs $\n                                       \\ pargs ->\n                                         do fdin <- mbFd fun fd_stdin mb_stdin\n                                            fdout <- mbFd fun fd_stdout mb_stdout\n                                            fderr <- mbFd fun fd_stderr mb_stderr\n                                            when mb_delegate_ctlc startDelegateControlC\n                                            proc_handle <- withMVar runInteractiveProcess_lock $\n                                                             \\ _ ->\n                                                               c_runInteractiveProcess pargs\n                                                                 pWorkDir\n                                                                 pEnv\n                                                                 fdin\n                                                                 fdout\n                                                                 fderr\n                                                                 pfdStdInput\n                                                                 pfdStdOutput\n                                                                 pfdStdError\n                                                                 (if mb_delegate_ctlc then 1 else 0)\n                                                                 ((if mb_close_fds then 1 else 0)\n                                                                    .|.\n                                                                    (if mb_create_group then 2 else\n                                                                       0))\n                                                                 pFailedDoing\n                                            when (proc_handle == (-1)) $\n                                              do cFailedDoing <- peek pFailedDoing\n                                                 failedDoing <- peekCString cFailedDoing\n                                                 throwErrno (fun ++ \": \" ++ failedDoing)\n                                            hndStdInput <- mbPipe mb_stdin pfdStdInput WriteMode\n                                            hndStdOutput <- mbPipe mb_stdout pfdStdOutput ReadMode\n                                            hndStdError <- mbPipe mb_stderr pfdStdError ReadMode\n                                            ph <- mkProcessHandle proc_handle mb_delegate_ctlc\n                                            return (hndStdInput, hndStdOutput, hndStdError, ph)"],"instances":[],"language":{"extensions":["RecordWildCards","BangPatterns","InterruptibleFFI","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}