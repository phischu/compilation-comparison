{"sliceID":8253043136939556050,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":9025559142516147699},"usedName":{"valueName":{"identifier":"pathInfo"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Left"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":245643842854145804},"usedName":{"valueName":{"identifier":"responseLBS"}},"qualification":null},{"reference":{"otherSlice":7037918368753296545},"usedName":{"valueName":{"identifier":"status301"}},"qualification":null},{"reference":{"otherSlice":1770321871109794098},"usedName":{"valueName":{"identifier":"hLocation"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"mconcat"}},"qualification":null},{"reference":{"otherSlice":6833081969160815042},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"L"},{"reference":{"otherSlice":6442903371538422373},"usedName":{"valueName":{"identifier":"uncons"}},"qualification":"B"},{"reference":{"otherSlice":9025559142516147699},"usedName":{"valueName":{"identifier":"rawQueryString"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":7459617743278403755},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":8695717349198338107},"usedName":{"valueName":{"identifier":"cons"}},"qualification":"B"},{"reference":{"otherSlice":2241541392207318616},"usedName":{"typeName":{"identifier":"Text"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"typeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":4010822550476529195},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"B"},{"reference":{"otherSlice":2503338423706628106},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null}],"fragment":["cleanPath ::\n          ([Text] -> Either B.ByteString [Text]) ->\n            B.ByteString -> ([Text] -> Application) -> Application","cleanPath splitter prefix app env sendResponse\n  = case splitter $ pathInfo env of\n        Right pieces -> app pieces env sendResponse\n        Left p -> sendResponse $\n                    responseLBS status301 [(hLocation, mconcat [prefix, p, suffix])] $\n                      L.empty\n  where suffix\n          = case B.uncons $ rawQueryString env of\n                Nothing -> B.empty\n                Just ('?', _) -> rawQueryString env\n                _ -> B.cons '?' $ rawQueryString env"],"instances":[],"language":{"extensions":["OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}