{"sliceID":1718541757057271687,"uses":[{"reference":{"otherSlice":135941937043906956},"usedName":{"valueName":{"identifier":"settingsBeforeMainLoop"}},"qualification":null},{"reference":{"otherSlice":2530624375513425095},"usedName":{"valueName":{"identifier":"newCounter"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":225251557406626284},"usedName":{"valueName":{"identifier":"acceptConnection"}},"qualification":null},{"reference":{"otherSlice":584872274440402080},"usedName":{"valueName":{"identifier":"withDateCache"}},"qualification":"D"},{"reference":{"otherSlice":4412672114964815676},"usedName":{"valueName":{"identifier":"withFdCache"}},"qualification":"F"},{"reference":{"otherSlice":67888881092004282},"usedName":{"valueName":{"identifier":"withFileInfoCache"}},"qualification":"I"},{"reference":{"otherSlice":4216138742902646622},"usedName":{"constructorName":{"identifier":"InternalInfo0"},"constructorTypeName":{"identifier":"InternalInfo0"}},"qualification":null},{"reference":{"otherSlice":135941937043906956},"usedName":{"valueName":{"identifier":"settingsFdCacheDuration"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"*"}},"qualification":null},{"reference":{"otherSlice":135941937043906956},"usedName":{"valueName":{"identifier":"settingsFileInfoCacheDuration"}},"qualification":null},{"reference":{"otherSlice":135941937043906956},"usedName":{"valueName":{"identifier":"settingsTimeout"}},"qualification":null},{"reference":{"otherSlice":135941937043906956},"usedName":{"valueName":{"identifier":"settingsManager"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"Control.Exception.Base"},"usedName":{"valueName":{"identifier":"bracket"}},"qualification":null},{"reference":{"otherSlice":1381755339532824507},"usedName":{"valueName":{"identifier":"initialize"}},"qualification":"T"},{"reference":{"otherSlice":5680064510803979594},"usedName":{"valueName":{"identifier":"stopManager"}},"qualification":"T"},{"reference":{"otherSlice":135941937043906956},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":3086651893912105973},"usedName":{"typeName":{"identifier":"Connection"}},"qualification":null},{"reference":{"otherSlice":583013321701679463},"usedName":{"typeName":{"identifier":"Transport"}},"qualification":null},{"reference":{"otherSlice":3812070640366845611},"usedName":{"typeName":{"identifier":"SockAddr"}},"qualification":null},{"reference":{"otherSlice":2503338423706628106},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null}],"fragment":["runSettingsConnectionMakerSecure ::\n                                 Settings ->\n                                   IO (IO (Connection, Transport), SockAddr) -> Application -> IO ()","runSettingsConnectionMakerSecure set getConnMaker app\n  = do settingsBeforeMainLoop set\n       counter <- newCounter\n       withII0 $ acceptConnection set getConnMaker app counter\n  where withII0 action\n          = withTimeoutManager $\n              \\ tm ->\n                D.withDateCache $\n                  \\ dc ->\n                    F.withFdCache fdCacheDurationInSeconds $\n                      \\ fdc ->\n                        I.withFileInfoCache fdFileInfoDurationInSeconds $\n                          \\ fic ->\n                            do let ii0 = InternalInfo0 tm dc fdc fic\n                               action ii0\n        !fdCacheDurationInSeconds = settingsFdCacheDuration set * 1000000\n        !fdFileInfoDurationInSeconds\n          = settingsFileInfoCacheDuration set * 1000000\n        !timeoutInSeconds = settingsTimeout set * 1000000\n        withTimeoutManager f\n          = case settingsManager set of\n                Just tm -> f tm\n                Nothing -> bracket (T.initialize timeoutInSeconds) T.stopManager f"],"instances":[],"language":{"extensions":["BangPatterns","OverloadedStrings","PackageImports","PatternGuards","ScopedTypeVariables","TupleSections","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"],"isInstance":false}}