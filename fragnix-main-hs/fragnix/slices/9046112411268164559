{"sliceID":9046112411268164559,"uses":[{"reference":{"otherSlice":295242023853634490},"usedName":{"constructorName":{"identifier":"Builder"},"constructorTypeName":{"identifier":"Builder"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":3458225130023210584},"usedName":{"constructorName":{"identifier":"Buffer"},"constructorTypeName":{"identifier":"Buffer"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<="}},"qualification":null},{"reference":{"otherSlice":2495787221593611115},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"A"},{"reference":{"otherSlice":6742866475076404776},"usedName":{"constructorName":{"identifier":"Text"},"constructorTypeName":{"identifier":"Text"}},"qualification":null},{"reference":{"otherSlice":303218261714130477},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"otherSlice":7770158271217053981},"usedName":{"valueName":{"identifier":"inlineInterleaveST"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":4464944826426021000},"usedName":{"valueName":{"identifier":"unsafeWrite"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"otherSlice":3895303092967145140},"usedName":{"valueName":{"identifier":"smallChunkSize"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":295242023853634490},"usedName":{"typeName":{"identifier":"Builder"}},"qualification":null}],"fragment":["fromString :: String -> Builder","fromString str\n  = Builder $\n      \\ k (Buffer p0 o0 u0 l0) ->\n        let loop !marr !o !u !l [] = k (Buffer marr o u l)\n            loop marr o u l s@(c : cs)\n              | l <= 1 =\n                do arr <- A.unsafeFreeze marr\n                   let !t = Text arr o u\n                   marr' <- A.new chunkSize\n                   ts <- inlineInterleaveST (loop marr' 0 0 chunkSize s)\n                   return $ t : ts\n              | otherwise =\n                do n <- unsafeWrite marr (o + u) c\n                   loop marr o (u + n) (l - n) cs\n          in loop p0 o0 u0 l0 str\n  where chunkSize = smallChunkSize"],"instances":[],"language":{"extensions":["BangPatterns","Rank2Types","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}