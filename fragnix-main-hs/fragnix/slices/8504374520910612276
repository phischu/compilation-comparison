{"sliceID":8504374520910612276,"uses":[{"reference":{"otherSlice":2778596240580165680},"usedName":{"valueName":{"identifier":"unsafeLiftIO"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.String"},"usedName":{"valueName":{"identifier":"peekCAString"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad"},"usedName":{"valueName":{"operator":"=<<"}},"qualification":null},{"reference":{"otherSlice":696464106465668101},"usedName":{"valueName":{"identifier":"c_zlibVersion"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"otherSlice":620627319155400790},"usedName":{"constructorName":{"identifier":"GZip"},"constructorTypeName":{"identifier":"Format"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"||"}},"qualification":null},{"reference":{"otherSlice":620627319155400790},"usedName":{"constructorName":{"identifier":"GZipOrZlib"},"constructorTypeName":{"identifier":"Format"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"fail"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"++"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":620627319155400790},"usedName":{"typeName":{"identifier":"Format"}},"qualification":null},{"reference":{"otherSlice":2792556818527605581},"usedName":{"typeName":{"identifier":"Stream"}},"qualification":null}],"fragment":["checkFormatSupported :: Format -> Stream ()","checkFormatSupported format\n  = do version <- unsafeLiftIO (peekCAString =<< c_zlibVersion)\n       case version of\n           ('1' : ('.' : ('1' : ('.' : _)))) | format == GZip ||\n                                                 format == GZipOrZlib\n                                               ->\n                                               fail $\n                                                 \"version 1.1.x of the zlib C library does not support the\"\n                                                   ++\n                                                   \" 'gzip' format via the in-memory api, only the 'raw' and \"\n                                                     ++ \" 'zlib' formats.\"\n           _ -> return ()"],"instances":[],"language":{"extensions":["ForeignFunctionInterface","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}