{"sliceID":5587083517758966160,"uses":[{"reference":{"otherSlice":980706217060864070},"usedName":{"constructorName":{"identifier":"ReaperSettings"},"constructorTypeName":{"identifier":"ReaperSettings"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"valueName":{"identifier":"reaperAction"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"valueName":{"identifier":"reaperCons"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"valueName":{"identifier":"reaperDelay"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"valueName":{"identifier":"reaperEmpty"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"valueName":{"identifier":"reaperNull"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"valueName":{"identifier":"mask_"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad"},"usedName":{"valueName":{"identifier":"join"}},"qualification":null},{"reference":{"builtinModule":"Data.IORef"},"usedName":{"valueName":{"identifier":"atomicModifyIORef'"}},"qualification":null},{"reference":{"otherSlice":6389988487962542786},"usedName":{"constructorName":{"identifier":"NoReaper"},"constructorTypeName":{"identifier":"State"}},"qualification":null},{"reference":{"otherSlice":6389988487962542786},"usedName":{"constructorName":{"identifier":"Workload"},"constructorTypeName":{"identifier":"State"}},"qualification":null},{"reference":{"otherSlice":3461812580216477683},"usedName":{"valueName":{"identifier":"spawn"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":980706217060864070},"usedName":{"typeName":{"identifier":"ReaperSettings"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"typeName":{"identifier":"IORef"}},"qualification":null},{"reference":{"otherSlice":6389988487962542786},"usedName":{"typeName":{"identifier":"State"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["update ::\n       ReaperSettings workload item ->\n         IORef (State workload) -> item -> IO ()","update settings@ReaperSettings{..} stateRef item\n  = mask_ $ join $ atomicModifyIORef' stateRef cons\n  where cons NoReaper\n          = (Workload $ reaperCons item reaperEmpty, spawn settings stateRef)\n        cons (Workload wl) = (Workload $ reaperCons item wl, return ())"],"instances":[],"language":{"extensions":["RecordWildCards","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}