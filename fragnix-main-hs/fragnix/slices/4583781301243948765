{"sliceID":4583781301243948765,"uses":[{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"otherSlice":9140384856375100769},"usedName":{"valueName":{"identifier":"parseMethod"}},"qualification":null},{"reference":{"otherSlice":9025559142516147699},"usedName":{"valueName":{"identifier":"requestMethod"}},"qualification":null},{"reference":{"otherSlice":4962351138818765414},"usedName":{"valueName":{"identifier":"matchRoute"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":1446481306300641480},"usedName":{"valueName":{"identifier":"mkEnv"}},"qualification":null},{"reference":{"otherSlice":6086062443283036537},"usedName":{"valueName":{"identifier":"runAction"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"valueName":{"identifier":"maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":3699954186845348343},"usedName":{"typeName":{"identifier":"ScottyError"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad.IO.Class"},"usedName":{"typeName":{"identifier":"MonadIO"}},"qualification":null},{"reference":{"otherSlice":7291595281722222852},"usedName":{"typeName":{"identifier":"ErrorHandler"}},"qualification":null},{"reference":{"otherSlice":2468925579432409122},"usedName":{"typeName":{"identifier":"StdMethod"}},"qualification":null},{"reference":{"otherSlice":8565547410966602322},"usedName":{"typeName":{"identifier":"RoutePattern"}},"qualification":null},{"reference":{"otherSlice":1811116647704585236},"usedName":{"typeName":{"identifier":"ActionT"}},"qualification":null},{"reference":{"otherSlice":6414491791248426694},"usedName":{"typeName":{"identifier":"Middleware"}},"qualification":null}],"fragment":["route ::\n        (ScottyError e, MonadIO m) =>\n        ErrorHandler e m ->\n          StdMethod -> RoutePattern -> ActionT e m () -> Middleware m","route h method pat action app req\n  = let tryNext = app req in\n      if Right method == parseMethod (requestMethod req) then\n        case matchRoute pat req of\n            Just captures -> do env <- mkEnv req captures\n                                res <- runAction h env action\n                                maybe tryNext return res\n            Nothing -> tryNext\n        else tryNext"],"instances":[],"language":{"extensions":["FlexibleContexts","FlexibleInstances","OverloadedStrings","RankNTypes","ScopedTypeVariables","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}