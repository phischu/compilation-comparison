{"sliceID":4411171806467234710,"uses":[{"reference":{"otherSlice":4140461930772351125},"usedName":{"valueName":{"identifier":"withType"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"fmap"}},"qualification":null},{"reference":{"otherSlice":2200509164339420844},"usedName":{"valueName":{"identifier":"applyCon"}},"qualification":null},{"reference":{"otherSlice":7281902249350019939},"usedName":{"valueName":{"identifier":"parseJSON"}},"qualification":null},{"reference":{"otherSlice":1299087940318805820},"usedName":{"valueName":{"identifier":"consFromJSON"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"otherSlice":250412078360184208},"usedName":{"valueName":{"identifier":"tvbName"}},"qualification":null},{"reference":{"builtinModule":"Data.List"},"usedName":{"valueName":{"identifier":"foldl'"}},"qualification":null},{"reference":{"otherSlice":5961014460351920517},"usedName":{"typeName":{"identifier":"Options"}},"qualification":null}],"fragment":["deriveFromJSON :: Options -> Name -> Q [Dec]","deriveFromJSON opts name\n  = withType name $ \\ tvbs cons -> fmap (: []) $ fromCons tvbs cons\n  where fromCons :: [TyVarBndr] -> [Con] -> Q Dec\n        fromCons tvbs cons\n          = instanceD (applyCon ''FromJSON typeNames)\n              (classType `appT` instanceType)\n              [funD 'parseJSON\n                 [clause [] (normalB $ consFromJSON name opts cons) []]]\n          where classType = conT ''FromJSON\n                typeNames = map tvbName tvbs\n                instanceType = foldl' appT (conT name) $ map varT typeNames"],"instances":[],"language":{"extensions":["FlexibleInstances","IncoherentInstances","NamedFieldPuns","NoImplicitPrelude","OverlappingInstances","TemplateHaskell","UndecidableInstances","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}