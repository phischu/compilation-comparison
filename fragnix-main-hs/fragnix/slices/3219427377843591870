{"sliceID":3219427377843591870,"uses":[{"reference":{"otherSlice":5961014460351920517},"usedName":{"valueName":{"identifier":"sumEncoding"}},"qualification":null},{"reference":{"otherSlice":5152478156045782397},"usedName":{"constructorName":{"identifier":"TwoElemArray"},"constructorTypeName":{"identifier":"SumEncoding"}},"qualification":null},{"reference":{"otherSlice":1669319695546572556},"usedName":{"constructorName":{"identifier":"Array"},"constructorTypeName":{"identifier":"Value"}},"qualification":null},{"reference":{"otherSlice":5480562126503481243},"usedName":{"valueName":{"identifier":"fromList"}},"qualification":"V"},{"reference":{"otherSlice":8202299163306084124},"usedName":{"valueName":{"identifier":"conStr"}},"qualification":null},{"reference":{"otherSlice":5152478156045782397},"usedName":{"constructorName":{"identifier":"TaggedObject"},"constructorTypeName":{"identifier":"SumEncoding"}},"qualification":null},{"reference":{"otherSlice":5152478156045782397},"usedName":{"valueName":{"identifier":"tagFieldName"}},"qualification":null},{"reference":{"otherSlice":5152478156045782397},"usedName":{"valueName":{"identifier":"contentsFieldName"}},"qualification":null},{"reference":{"otherSlice":2340554657643939838},"usedName":{"valueName":{"identifier":"object"}},"qualification":null},{"reference":{"otherSlice":400033489728798890},"usedName":{"valueName":{"identifier":"pack"}},"qualification":"T"},{"reference":{"otherSlice":2092273851542796443},"usedName":{"valueName":{"operator":".="}},"qualification":null},{"reference":{"otherSlice":5152478156045782397},"usedName":{"constructorName":{"identifier":"ObjectWithSingleField"},"constructorTypeName":{"identifier":"SumEncoding"}},"qualification":null},{"reference":{"otherSlice":4208832239629921401},"usedName":{"valueName":{"identifier":"conTxt"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":5961014460351920517},"usedName":{"typeName":{"identifier":"Options"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Bool"}},"qualification":null}],"fragment":["encodeSum :: Options -> Bool -> Name -> Q Exp -> Q Exp","encodeSum opts multiCons conName exp\n  | multiCons =\n    case sumEncoding opts of\n        TwoElemArray -> [| Array |] `appE`\n                          ([| V.fromList |] `appE` listE [conStr opts conName, exp])\n        TaggedObject{tagFieldName, contentsFieldName} -> [| object |]\n                                                           `appE`\n                                                           listE\n                                                             [infixApp [| T.pack tagFieldName |]\n                                                                [| (.=) |]\n                                                                (conStr opts conName),\n                                                              infixApp\n                                                                [| T.pack contentsFieldName |]\n                                                                [| (.=) |]\n                                                                exp]\n        ObjectWithSingleField -> [| object |] `appE`\n                                   listE [infixApp (conTxt opts conName) [| (.=) |] exp]\n  | otherwise = exp"],"instances":[],"language":{"extensions":["FlexibleInstances","IncoherentInstances","NamedFieldPuns","NoImplicitPrelude","OverlappingInstances","TemplateHaskell","UndecidableInstances","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}