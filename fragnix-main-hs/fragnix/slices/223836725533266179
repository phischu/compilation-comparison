{"sliceID":223836725533266179,"uses":[{"reference":{"otherSlice":7315165113918992770},"usedName":{"typeName":{"identifier":"Format"}},"qualification":"Stream"},{"reference":{"otherSlice":7027838172525951099},"usedName":{"typeName":{"identifier":"CompressParams"}},"qualification":null},{"reference":{"otherSlice":8160419729831137275},"usedName":{"typeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":8160419729831137275},"usedName":{"constructorName":{"identifier":"CompressInputRequired"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"otherSlice":8160419729831137275},"usedName":{"valueName":{"identifier":"compressSupplyInput"}},"qualification":null},{"reference":{"otherSlice":4002496787813827901},"usedName":{"valueName":{"identifier":"mkStateIO"}},"qualification":null},{"reference":{"otherSlice":4179110413878942452},"usedName":{"valueName":{"identifier":"compressStream"}},"qualification":null},{"reference":{"otherSlice":4028427437426482569},"usedName":{"valueName":{"identifier":"runStreamIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":1394949281745390129},"usedName":{"typeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":1705518718783831717},"usedName":{"typeName":{"identifier":"State"}},"qualification":"Stream"},{"reference":{"builtinModule":"GHC.Prim"},"usedName":{"typeName":{"identifier":"RealWorld"}},"qualification":null},{"reference":{"otherSlice":8160419729831137275},"usedName":{"constructorName":{"identifier":"CompressOutputAvailable"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":8160419729831137275},"usedName":{"constructorName":{"identifier":"CompressStreamEnd"},"constructorTypeName":{"identifier":"CompressStream"}},"qualification":null}],"fragment":["compressStreamIO ::\n                 Stream.Format -> CompressParams -> CompressStream IO","compressStreamIO format params\n  = CompressInputRequired{compressSupplyInput =\n                            \\ chunk ->\n                              do zstate <- mkStateIO\n                                 let next = compressStream format params\n                                 (strm', zstate') <- runStreamIO (next chunk) zstate\n                                 return (go strm' zstate')}\n  where go ::\n           CompressStream Stream ->\n             Stream.State RealWorld -> CompressStream IO\n        go (CompressInputRequired next) zstate\n          = CompressInputRequired{compressSupplyInput =\n                                    \\ chunk ->\n                                      do (strm', zstate') <- runStreamIO (next chunk) zstate\n                                         return (go strm' zstate')}\n        go (CompressOutputAvailable chunk next) zstate\n          = CompressOutputAvailable chunk $\n              do (strm', zstate') <- runStreamIO next zstate\n                 return (go strm' zstate')\n        go CompressStreamEnd _ = CompressStreamEnd"],"instances":[],"language":{"extensions":["RankNTypes","DeriveDataTypeable","BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}