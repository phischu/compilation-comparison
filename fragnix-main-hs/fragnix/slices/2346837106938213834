{"sliceID":2346837106938213834,"uses":[{"reference":{"builtinModule":"GHC.Err"},"usedName":{"valueName":{"identifier":"error"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"++"}},"qualification":null},{"reference":{"otherSlice":5300934711519751499},"usedName":{"valueName":{"identifier":"newNameList"}},"qualification":null},{"reference":{"otherSlice":4299504902901625159},"usedName":{"valueName":{"identifier":"arityInt"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"zip"}},"qualification":null},{"reference":{"otherSlice":163784499293869512},"usedName":{"valueName":{"identifier":"interleave"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"otherSlice":4512247588159674237},"usedName":{"valueName":{"identifier":"tagSingleConstructors"}},"qualification":null},{"reference":{"otherSlice":8539650066233702455},"usedName":{"valueName":{"identifier":"argsToEncoding"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"False"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":4512247588159674237},"usedName":{"valueName":{"identifier":"allNullaryToStringTag"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"all"}},"qualification":null},{"reference":{"otherSlice":8927103275629205274},"usedName":{"valueName":{"identifier":"isNullary"}},"qualification":null},{"reference":{"otherSlice":6390671972622275302},"usedName":{"valueName":{"identifier":"encStr"}},"qualification":null},{"reference":{"otherSlice":8681288739400273612},"usedName":{"valueName":{"identifier":"getConName"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"True"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":3790782889836978137},"usedName":{"typeName":{"identifier":"JSONClass"}},"qualification":null},{"reference":{"otherSlice":4512247588159674237},"usedName":{"typeName":{"identifier":"Options"}},"qualification":null}],"fragment":["consToEncoding :: JSONClass -> Options -> [Con] -> Q Exp","consToEncoding _ _ []\n  = error $\n      \"Data.Aeson.TH.consToEncoding: \" ++\n        \"Not a single constructor given!\"\nconsToEncoding jc opts cons\n  = do value <- newName \"value\"\n       tes <- newNameList \"_te\" $ arityInt jc\n       tels <- newNameList \"_tel\" $ arityInt jc\n       let zippedTEs = zip tes tels\n           interleavedTEs = interleave tes tels\n       lamE (map varP $ interleavedTEs ++ [value]) $\n         caseE (varE value) (matches zippedTEs)\n  where matches tes\n          = case cons of\n                [con] | not (tagSingleConstructors opts) ->\n                        [argsToEncoding jc tes opts False con]\n                _ | allNullaryToStringTag opts && all isNullary cons ->\n                    [match (conP conName []) (normalB $ encStr opts conName) [] |\n                     con <- cons, let conName = getConName con]\n                  | otherwise -> [argsToEncoding jc tes opts True con | con <- cons]"],"instances":[],"language":{"extensions":["BangPatterns","FlexibleInstances","NamedFieldPuns","NoImplicitPrelude","UndecidableInstances","TemplateHaskellQuotes","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards","TemplateHaskell"],"isInstance":false}}