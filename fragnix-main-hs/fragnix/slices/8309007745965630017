{"sliceID":8309007745965630017,"uses":[{"reference":{"otherSlice":7380852613632988749},"usedName":{"valueName":{"identifier":"getProtocolNumber"}},"qualification":null},{"reference":{"otherSlice":4360120424655547227},"usedName":{"valueName":{"identifier":"defaultHints"}},"qualification":null},{"reference":{"otherSlice":327701426414781642},"usedName":{"valueName":{"identifier":"addrFlags"}},"qualification":null},{"reference":{"otherSlice":5386083940265316368},"usedName":{"constructorName":{"identifier":"AI_ADDRCONFIG"},"constructorTypeName":{"identifier":"AddrInfoFlag"}},"qualification":null},{"reference":{"otherSlice":327701426414781642},"usedName":{"valueName":{"identifier":"addrProtocol"}},"qualification":null},{"reference":{"otherSlice":327701426414781642},"usedName":{"valueName":{"identifier":"addrSocketType"}},"qualification":null},{"reference":{"otherSlice":5966676263279217999},"usedName":{"constructorName":{"identifier":"Stream"},"constructorTypeName":{"identifier":"SocketType"}},"qualification":null},{"reference":{"otherSlice":2990950460556442721},"usedName":{"valueName":{"identifier":"getAddrInfo"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":7795482958069841478},"usedName":{"valueName":{"identifier":"firstSuccessful"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"otherSlice":2075613775210566552},"usedName":{"valueName":{"identifier":"bracketOnError"}},"qualification":null},{"reference":{"otherSlice":4272420466188907908},"usedName":{"valueName":{"identifier":"socket"}},"qualification":null},{"reference":{"otherSlice":327701426414781642},"usedName":{"valueName":{"identifier":"addrFamily"}},"qualification":null},{"reference":{"otherSlice":4112987266023136759},"usedName":{"valueName":{"identifier":"sClose"}},"qualification":null},{"reference":{"otherSlice":7168965227150803339},"usedName":{"valueName":{"identifier":"connect"}},"qualification":null},{"reference":{"otherSlice":327701426414781642},"usedName":{"valueName":{"identifier":"addrAddress"}},"qualification":null},{"reference":{"otherSlice":2210167494878030646},"usedName":{"valueName":{"identifier":"socketToHandle"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.IOMode"},"usedName":{"constructorName":{"identifier":"ReadWriteMode"},"constructorTypeName":{"identifier":"IOMode"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":2265647500502576818},"usedName":{"typeName":{"identifier":"HostName"}},"qualification":null},{"reference":{"otherSlice":6012126910783023571},"usedName":{"typeName":{"identifier":"ServiceName"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO.Handle.Types"},"usedName":{"typeName":{"identifier":"Handle"}},"qualification":null}],"fragment":["connect' :: String -> HostName -> ServiceName -> IO Handle","connect' caller host serv\n  = do proto <- getProtocolNumber \"tcp\"\n       let hints\n             = defaultHints{addrFlags = [AI_ADDRCONFIG], addrProtocol = proto,\n                            addrSocketType = Stream}\n       addrs <- getAddrInfo (Just hints) (Just host) (Just serv)\n       firstSuccessful caller $ map tryToConnect addrs\n  where tryToConnect addr\n          = bracketOnError\n              (socket (addrFamily addr) (addrSocketType addr)\n                 (addrProtocol addr))\n              (sClose)\n              (\\ sock ->\n                 do connect sock (addrAddress addr)\n                    socketToHandle sock ReadWriteMode)"],"instances":[],"language":{"extensions":["DeriveDataTypeable","ForeignFunctionInterface","TypeSynonymInstances","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}