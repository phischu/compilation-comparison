{"sliceID":2278816203861274836,"uses":[{"reference":{"builtinModule":"Control.Exception.Base"},"usedName":{"valueName":{"identifier":"bracket"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":1233976762895378281},"usedName":{"valueName":{"identifier":"clockDateCacher"}},"qualification":null},{"reference":{"otherSlice":2342767163056760776},"usedName":{"valueName":{"identifier":"initLogger"}},"qualification":null},{"reference":{"otherSlice":1392369650614630952},"usedName":{"constructorName":{"identifier":"FromFallback"},"constructorTypeName":{"identifier":"IPAddrSource"}},"qualification":null},{"reference":{"otherSlice":7277447524438301297},"usedName":{"constructorName":{"identifier":"LogStdout"},"constructorTypeName":{"identifier":"LogType"}},"qualification":null},{"reference":{"otherSlice":3782115418504826121},"usedName":{"valueName":{"identifier":"apacheLogger"}},"qualification":null},{"reference":{"otherSlice":3782115418504826121},"usedName":{"valueName":{"identifier":"logRemover"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"Control.Monad"},"usedName":{"valueName":{"identifier":"void"}},"qualification":null},{"reference":{"otherSlice":6895861741973047521},"usedName":{"typeName":{"identifier":"ApacheLogger"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["withStdoutLogger :: (ApacheLogger -> IO a) -> IO a","withStdoutLogger app\n  = bracket setup teardown $ \\ (aplogger, _) -> app aplogger\n  where setup\n          = do (getter, _updater) <- clockDateCacher\n               apf <- initLogger FromFallback (LogStdout 4096) getter\n               let aplogger = apacheLogger apf\n                   remover = logRemover apf\n               return (aplogger, remover)\n        teardown (_, remover) = void remover"],"instances":[],"language":{"extensions":["MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}