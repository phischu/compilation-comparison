{"sliceID":6495154830529679339,"uses":[{"reference":{"otherSlice":4910482979359312255},"usedName":{"constructorName":{"identifier":"FastSet"},"constructorTypeName":{"identifier":"FastSet"}},"qualification":null},{"reference":{"otherSlice":3191844957948247487},"usedName":{"valueName":{"identifier":"listArray"}},"qualification":"AB"},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"length"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"otherSlice":8866705589623053930},"usedName":{"valueName":{"identifier":"ordNub"}},"qualification":null},{"reference":{"builtinModule":"Data.List"},"usedName":{"valueName":{"identifier":"sort"}},"qualification":null},{"reference":{"otherSlice":1195296634074211535},"usedName":{"valueName":{"identifier":"nextPowerOf2"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"*"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"div"}},"qualification":null},{"reference":{"otherSlice":3900403648715560028},"usedName":{"valueName":{"identifier":"pad"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"otherSlice":2200696215718475423},"usedName":{"valueName":{"identifier":"resolveCollisions"}},"qualification":null},{"reference":{"builtinModule":"Data.List"},"usedName":{"valueName":{"identifier":"sortBy"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"compare"}},"qualification":null},{"reference":{"builtinModule":"Data.Function"},"usedName":{"valueName":{"identifier":"on"}},"qualification":null},{"reference":{"otherSlice":9097976237734091468},"usedName":{"valueName":{"identifier":"initialIndex"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"zipWith"}},"qualification":null},{"reference":{"otherSlice":9097976237734091468},"usedName":{"constructorName":{"identifier":"Entry"},"constructorTypeName":{"identifier":"Entry"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"map"}},"qualification":null},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".&."}},"qualification":null},{"reference":{"otherSlice":3666109448794344682},"usedName":{"valueName":{"identifier":"fastHash"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"concatMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Enum"},"usedName":{"valueName":{"identifier":"fromEnum"}},"qualification":null},{"reference":{"otherSlice":9097976237734091468},"usedName":{"valueName":{"identifier":"key"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":4910482979359312255},"usedName":{"typeName":{"identifier":"FastSet"}},"qualification":null}],"fragment":["fromList :: String -> FastSet","fromList s\n  = FastSet (AB.listArray (0, length interleaved - 1) interleaved)\n      mask'\n  where s' = ordNub (sort s)\n        l = length s'\n        mask' = nextPowerOf2 ((5 * l) `div` 4) - 1\n        entries\n          = pad mask' .\n              resolveCollisions .\n                sortBy (compare `on` initialIndex) .\n                  zipWith (\\ c i -> Entry c i i) s' . map ((.&. mask') . fastHash)\n              $ s'\n        interleaved\n          = concatMap (\\ e -> [fromEnum $ key e, initialIndex e]) entries"],"instances":[],"language":{"extensions":["BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}