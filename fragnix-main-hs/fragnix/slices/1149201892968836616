{"sliceID":1149201892968836616,"uses":[{"reference":{"otherSlice":5632142578980093812},"usedName":{"valueName":{"identifier":"newArray"}},"qualification":"IOA"},{"reference":{"otherSlice":2087085352026741578},"usedName":{"valueName":{"identifier":"minTokenIx"}},"qualification":null},{"reference":{"otherSlice":1547355675373017527},"usedName":{"valueName":{"identifier":"maxTokenIx"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":3191844957948247487},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"Unsafe"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.IOArray"},"usedName":{"typeName":{"identifier":"IOArray"}},"qualification":"IOA"},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":2571540415869764326},"usedName":{"typeName":{"identifier":"HeaderValue"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":390496612234166211},"usedName":{"typeName":{"identifier":"TokenHeaderList"}},"qualification":null},{"reference":{"otherSlice":7521817567785272208},"usedName":{"valueName":{"identifier":"empty"}},"qualification":null},{"reference":{"otherSlice":8936256994815824007},"usedName":{"typeName":{"identifier":"CI"}},"qualification":null},{"reference":{"otherSlice":2060177323806235130},"usedName":{"typeName":{"identifier":"HeaderName"}},"qualification":null},{"reference":{"otherSlice":5735755275380532822},"usedName":{"typeName":{"identifier":"Builder"}},"qualification":null},{"reference":{"otherSlice":1237212012726825086},"usedName":{"typeName":{"identifier":"TokenHeader"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":4524223153277317778},"usedName":{"valueName":{"identifier":"run"}},"qualification":null},{"reference":{"otherSlice":1916997384627552582},"usedName":{"valueName":{"identifier":"toToken"}},"qualification":null},{"reference":{"otherSlice":8936256994815824007},"usedName":{"valueName":{"identifier":"foldedCase"}},"qualification":null},{"reference":{"otherSlice":5632142578980093812},"usedName":{"valueName":{"identifier":"unsafeWrite"}},"qualification":null},{"reference":{"otherSlice":7551396270812707261},"usedName":{"valueName":{"identifier":"tokenIx"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":359484736934200607},"usedName":{"valueName":{"operator":"<<"}},"qualification":null},{"reference":{"otherSlice":749801687180271456},"usedName":{"typeName":{"identifier":"ValueTable"}},"qualification":null}],"fragment":["toHeaderTable ::\n              [(CI HeaderName, HeaderValue)] -> IO (TokenHeaderList, ValueTable)","toHeaderTable kvs\n  = do arr <- IOA.newArray (minTokenIx, maxTokenIx) Nothing\n       !tvs <- conv arr\n       tbl <- Unsafe.unsafeFreeze arr\n       return (tvs, tbl)\n  where conv ::\n             IOA.IOArray Int (Maybe HeaderValue) -> IO TokenHeaderList\n        conv arr = go kvs empty\n          where go ::\n                   [(CI HeaderName, HeaderValue)] ->\n                     Builder TokenHeader -> IO TokenHeaderList\n                go [] builder = return $ run builder\n                go ((k, v) : xs) builder\n                  = do let !t = toToken (foldedCase k)\n                       unsafeWrite arr (tokenIx t) (Just v)\n                       let !tv = (t, v)\n                           !builder' = builder << tv\n                       go xs builder'"],"instances":[],"language":{"extensions":["BangPatterns","RecordWildCards","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}