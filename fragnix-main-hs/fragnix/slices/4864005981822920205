{"sliceID":4864005981822920205,"uses":[{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"otherSlice":623902709427273711},"usedName":{"valueName":{"identifier":"bitsPerSubkey"}},"qualification":null},{"reference":{"otherSlice":7562496176401487712},"usedName":{"valueName":{"identifier":"singletonM"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"Prelude"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"otherSlice":8924003398132186113},"usedName":{"constructorName":{"identifier":"BitmapIndexed"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":1846536015723137767},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":8924003398132186113},"usedName":{"constructorName":{"identifier":"Leaf"},"constructorTypeName":{"identifier":"HashMap"}},"qualification":null},{"reference":{"otherSlice":9131127258957915120},"usedName":{"constructorName":{"identifier":"L"},"constructorTypeName":{"identifier":"Leaf"}},"qualification":null},{"reference":{"otherSlice":2897069700199654731},"usedName":{"valueName":{"identifier":"write"}},"qualification":"A"},{"reference":{"otherSlice":6158037683058372635},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"A"},{"reference":{"builtinModule":"Data.Bits"},"usedName":{"valueName":{"operator":".|."}},"qualification":null},{"reference":{"otherSlice":1590864845463237458},"usedName":{"valueName":{"identifier":"mask"}},"qualification":null},{"reference":{"otherSlice":5245304807376376639},"usedName":{"valueName":{"identifier":"index"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"otherSlice":839083927602162372},"usedName":{"typeName":{"identifier":"Shift"}},"qualification":null},{"reference":{"otherSlice":5050666636598849632},"usedName":{"typeName":{"identifier":"Hash"}},"qualification":null},{"reference":{"builtinModule":"GHC.ST"},"usedName":{"typeName":{"identifier":"ST"}},"qualification":null},{"reference":{"otherSlice":8924003398132186113},"usedName":{"typeName":{"identifier":"HashMap"}},"qualification":null}],"fragment":["two ::\n    Shift -> Hash -> k -> v -> Hash -> k -> v -> ST s (HashMap k v)","two = go\n  where go s h1 k1 v1 h2 k2 v2\n          | bp1 == bp2 =\n            do st <- go (s + bitsPerSubkey) h1 k1 v1 h2 k2 v2\n               ary <- A.singletonM st\n               return $! BitmapIndexed bp1 ary\n          | otherwise =\n            do mary <- A.new 2 $ Leaf h1 (L k1 v1)\n               A.write mary idx2 $ Leaf h2 (L k2 v2)\n               ary <- A.unsafeFreeze mary\n               return $! BitmapIndexed (bp1 .|. bp2) ary\n          where bp1 = mask h1 s\n                bp2 = mask h2 s\n                idx2\n                  | index h1 s < index h2 s = 1\n                  | otherwise = 0"],"instances":[],"language":{"extensions":["BangPatterns","DeriveDataTypeable","MagicHash","ScopedTypeVariables","TypeFamilies","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}