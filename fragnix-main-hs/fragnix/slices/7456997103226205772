{"sliceID":7456997103226205772,"uses":[{"reference":{"otherSlice":6400076285833186274},"usedName":{"constructorName":{"identifier":"Settings"},"constructorTypeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"enablePush"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"headerTableSize"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"initialWindowSize"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"maxConcurrentStreams"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"maxFrameSize"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"valueName":{"identifier":"maxHeaderBlockSize"}},"qualification":null},{"reference":{"otherSlice":1285600184885925655},"usedName":{"constructorName":{"identifier":"FrameHeader"},"constructorTypeName":{"identifier":"FrameHeader"}},"qualification":null},{"reference":{"otherSlice":1285600184885925655},"usedName":{"valueName":{"identifier":"flags"}},"qualification":null},{"reference":{"otherSlice":1285600184885925655},"usedName":{"valueName":{"identifier":"payloadLength"}},"qualification":null},{"reference":{"otherSlice":1285600184885925655},"usedName":{"valueName":{"identifier":"streamId"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":">"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Left"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":3799123115806425041},"usedName":{"constructorName":{"identifier":"ConnectionError"},"constructorTypeName":{"identifier":"HTTP2Error"}},"qualification":null},{"reference":{"otherSlice":5005511013097534442},"usedName":{"constructorName":{"identifier":"FrameSizeError"},"constructorTypeName":{"identifier":"ErrorCodeId"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"elem"}},"qualification":null},{"reference":{"otherSlice":3945410983030967779},"usedName":{"valueName":{"identifier":"nonZeroFrameTypes"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"otherSlice":2485077862527340610},"usedName":{"valueName":{"identifier":"isControl"}},"qualification":null},{"reference":{"otherSlice":5005511013097534442},"usedName":{"constructorName":{"identifier":"ProtocolError"},"constructorTypeName":{"identifier":"ErrorCodeId"}},"qualification":null},{"reference":{"otherSlice":1331876683910774373},"usedName":{"valueName":{"identifier":"zeroFrameTypes"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FramePriority"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"/="}},"qualification":null},{"reference":{"otherSlice":3799123115806425041},"usedName":{"constructorName":{"identifier":"StreamError"},"constructorTypeName":{"identifier":"HTTP2Error"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FrameRSTStream"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FrameSettings"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"mod"}},"qualification":null},{"reference":{"otherSlice":5177628619844568599},"usedName":{"valueName":{"identifier":"testAck"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FramePushPromise"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"otherSlice":4601536646804663288},"usedName":{"valueName":{"identifier":"isResponse"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FramePing"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FrameGoAway"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"constructorName":{"identifier":"FrameWindowUpdate"},"constructorTypeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":6400076285833186274},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"otherSlice":3404358292982908639},"usedName":{"typeName":{"identifier":"FrameTypeId"}},"qualification":null},{"reference":{"otherSlice":1285600184885925655},"usedName":{"typeName":{"identifier":"FrameHeader"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"typeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":3799123115806425041},"usedName":{"typeName":{"identifier":"HTTP2Error"}},"qualification":null}],"fragment":["checkFrameHeader ::\n                 Settings ->\n                   (FrameTypeId, FrameHeader) ->\n                     Either HTTP2Error (FrameTypeId, FrameHeader)","checkFrameHeader Settings{..} typfrm@(typ, FrameHeader{..})\n  | payloadLength > maxFrameSize =\n    Left $ ConnectionError FrameSizeError \"exceeds maximum frame size\"\n  | typ `elem` nonZeroFrameTypes && isControl streamId =\n    Left $\n      ConnectionError ProtocolError \"cannot used in control stream\"\n  | typ `elem` zeroFrameTypes && not (isControl streamId) =\n    Left $\n      ConnectionError ProtocolError \"cannot used in non-zero stream\"\n  | otherwise = checkType typ\n  where checkType FramePriority\n          | payloadLength /= 5 = Left $ StreamError FrameSizeError streamId\n        checkType FrameRSTStream\n          | payloadLength /= 4 =\n            Left $\n              ConnectionError FrameSizeError\n                \"payload length is not 4 in rst stream frame\"\n        checkType FrameSettings\n          | payloadLength `mod` 6 /= 0 =\n            Left $\n              ConnectionError FrameSizeError\n                \"payload length is not multiple of 6 in settings frame\"\n          | testAck flags && payloadLength /= 0 =\n            Left $\n              ConnectionError FrameSizeError\n                \"payload length must be 0 if ack flag is set\"\n        checkType FramePushPromise\n          | not enablePush =\n            Left $ ConnectionError ProtocolError \"push not enabled\"\n          | not (isResponse streamId) =\n            Left $\n              ConnectionError ProtocolError\n                \"push promise must be used with even stream identifier\"\n        checkType FramePing\n          | payloadLength /= 8 =\n            Left $\n              ConnectionError FrameSizeError \"payload length is 8 in ping frame\"\n        checkType FrameGoAway\n          | payloadLength < 8 =\n            Left $\n              ConnectionError FrameSizeError\n                \"goaway body must be 8 bytes or larger\"\n        checkType FrameWindowUpdate\n          | payloadLength /= 4 =\n            Left $\n              ConnectionError FrameSizeError\n                \"payload length is 4 in window update frame\"\n        checkType _ = Right typfrm"],"instances":[],"language":{"extensions":["TupleSections","BangPatterns","RecordWildCards","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}