{"sliceID":1077402847155025553,"uses":[{"reference":{"otherSlice":3645198897320373969},"usedName":{"constructorName":{"identifier":"Builder"},"constructorTypeName":{"identifier":"Builder"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":8405520719457444758},"usedName":{"constructorName":{"identifier":"Buffer"},"constructorTypeName":{"identifier":"Buffer"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<="}},"qualification":null},{"reference":{"otherSlice":2599347847448508561},"usedName":{"valueName":{"identifier":"unsafeFreeze"}},"qualification":"A"},{"reference":{"otherSlice":2241541392207318616},"usedName":{"constructorName":{"identifier":"Text"},"constructorTypeName":{"identifier":"Text"}},"qualification":null},{"reference":{"otherSlice":5202209142239390005},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"otherSlice":1292089811348989507},"usedName":{"valueName":{"identifier":"inlineInterleaveST"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":6830589594641922584},"usedName":{"valueName":{"identifier":"unsafeWrite"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"otherSlice":7968985296749735510},"usedName":{"valueName":{"identifier":"smallChunkSize"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"typeName":{"identifier":"String"}},"qualification":null},{"reference":{"otherSlice":3645198897320373969},"usedName":{"typeName":{"identifier":"Builder"}},"qualification":null}],"fragment":["fromString :: String -> Builder","fromString str\n  = Builder $\n      \\ k (Buffer p0 o0 u0 l0) ->\n        let loop !marr !o !u !l [] = k (Buffer marr o u l)\n            loop marr o u l s@(c : cs)\n              | l <= 1 =\n                do arr <- A.unsafeFreeze marr\n                   let !t = Text arr o u\n                   marr' <- A.new chunkSize\n                   ts <- inlineInterleaveST (loop marr' 0 0 chunkSize s)\n                   return $ t : ts\n              | otherwise =\n                do n <- unsafeWrite marr (o + u) c\n                   loop marr o (u + n) (l - n) cs\n          in loop p0 o0 u0 l0 str\n  where chunkSize = smallChunkSize"],"instances":[],"language":{"extensions":["BangPatterns","Rank2Types","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}