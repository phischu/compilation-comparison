{"sliceID":800034901723742684,"uses":[{"reference":{"otherSlice":7613737954972724954},"usedName":{"valueName":{"identifier":"headerLines"}},"qualification":null},{"reference":{"otherSlice":5165856219548030866},"usedName":{"valueName":{"identifier":"parseHeaderLines"}},"qualification":null},{"reference":{"otherSlice":7326233963829088160},"usedName":{"valueName":{"identifier":"indexRequestHeader"}},"qualification":null},{"reference":{"builtinModule":"GHC.Arr"},"usedName":{"valueName":{"operator":"!"}},"qualification":null},{"reference":{"otherSlice":7040822702011420829},"usedName":{"valueName":{"identifier":"idxExpect"}},"qualification":null},{"reference":{"otherSlice":7040822702011420829},"usedName":{"valueName":{"identifier":"idxContentLength"}},"qualification":null},{"reference":{"otherSlice":7040822702011420829},"usedName":{"valueName":{"identifier":"idxTransferEncoding"}},"qualification":null},{"reference":{"otherSlice":6974529256310514156},"usedName":{"valueName":{"identifier":"handleExpect"}},"qualification":null},{"reference":{"otherSlice":8896494182625328985},"usedName":{"valueName":{"identifier":"bodyAndSource"}},"qualification":null},{"reference":{"otherSlice":7129899836605718188},"usedName":{"valueName":{"identifier":"timeoutBody"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"constructorName":{"identifier":"Request"},"constructorTypeName":{"identifier":"Request"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestMethod"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"httpVersion"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"pathInfo"}},"qualification":null},{"reference":{"otherSlice":5326495752709864314},"usedName":{"valueName":{"identifier":"decodePathSegments"}},"qualification":"H"},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"rawPathInfo"}},"qualification":null},{"reference":{"otherSlice":4040851656968671632},"usedName":{"valueName":{"identifier":"settingsNoParsePath"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"rawQueryString"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"queryString"}},"qualification":null},{"reference":{"otherSlice":5362669780704885461},"usedName":{"valueName":{"identifier":"parseQuery"}},"qualification":"H"},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestHeaders"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"isSecure"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"False"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"remoteHost"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestBody"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"vault"}},"qualification":null},{"reference":{"builtinModule":"Data.Monoid"},"usedName":{"valueName":{"identifier":"mempty"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestBodyLength"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestHeaderHost"}},"qualification":null},{"reference":{"otherSlice":6253936816604868018},"usedName":{"valueName":{"identifier":"idxHost"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestHeaderRange"}},"qualification":null},{"reference":{"otherSlice":6253936816604868018},"usedName":{"valueName":{"identifier":"idxRange"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":3323754789693346301},"usedName":{"valueName":{"identifier":"threadHandle"}},"qualification":null},{"reference":{"otherSlice":4040851656968671632},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"otherSlice":4881703223122348873},"usedName":{"typeName":{"identifier":"Connection"}},"qualification":null},{"reference":{"otherSlice":3323754789693346301},"usedName":{"typeName":{"identifier":"InternalInfo"}},"qualification":null},{"reference":{"otherSlice":5051683172608853772},"usedName":{"typeName":{"identifier":"SockAddr"}},"qualification":null},{"reference":{"otherSlice":9064245211910310467},"usedName":{"typeName":{"identifier":"Source"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"typeName":{"identifier":"Request"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"typeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"typeName":{"identifier":"IORef"}},"qualification":"I"},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"otherSlice":8986303668099301941},"usedName":{"typeName":{"identifier":"IndexedHeader"}},"qualification":null}],"fragment":["recvRequest ::\n            Settings ->\n              Connection ->\n                InternalInfo ->\n                  SockAddr ->\n                    Source -> IO (Request, Maybe (I.IORef Int), IndexedHeader)","recvRequest settings conn ii addr src\n  = do hdrlines <- headerLines src\n       (method, unparsedPath, path, query, httpversion,\n        hdr) <- parseHeaderLines hdrlines\n       let idxhdr = indexRequestHeader hdr\n           expect = idxhdr ! idxExpect\n           cl = idxhdr ! idxContentLength\n           te = idxhdr ! idxTransferEncoding\n       handleExpect conn httpversion expect\n       (rbody, remainingRef, bodyLength) <- bodyAndSource src cl te\n       rbody' <- timeoutBody th rbody\n       let req\n             = Request{requestMethod = method, httpVersion = httpversion,\n                       pathInfo = H.decodePathSegments path,\n                       rawPathInfo =\n                         if settingsNoParsePath settings then unparsedPath else path,\n                       rawQueryString = query, queryString = H.parseQuery query,\n                       requestHeaders = hdr, isSecure = False, remoteHost = addr,\n                       requestBody = rbody', vault = mempty,\n                       requestBodyLength = bodyLength,\n                       requestHeaderHost = idxhdr ! idxHost,\n                       requestHeaderRange = idxhdr ! idxRange}\n       return (req, remainingRef, idxhdr)\n  where th = threadHandle ii"],"instances":[],"language":{"extensions":["BangPatterns","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}