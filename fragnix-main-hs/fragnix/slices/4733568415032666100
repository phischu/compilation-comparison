{"sliceID":4733568415032666100,"uses":[{"reference":{"otherSlice":4010822550476529195},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"otherSlice":6327919249248331934},"usedName":{"valueName":{"identifier":"isPrefixOf"}},"qualification":"B"},{"reference":{"builtinModule":"Data.Tuple"},"usedName":{"valueName":{"identifier":"snd"}},"qualification":null},{"reference":{"otherSlice":3748312495235440417},"usedName":{"valueName":{"identifier":"drop"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":3001491077528801909},"usedName":{"valueName":{"identifier":"breakByte"}},"qualification":"B"}],"fragment":["extractPath :: B.ByteString -> B.ByteString","extractPath = ensureNonEmpty . extract\n  where extract path\n          | \"http://\" `B.isPrefixOf` path =\n            (snd . breakOnSlash . B.drop 7) path\n          | \"https://\" `B.isPrefixOf` path =\n            (snd . breakOnSlash . B.drop 8) path\n          | otherwise = path\n        breakOnSlash = B.breakByte 47\n        ensureNonEmpty \"\" = \"/\"\n        ensureNonEmpty p = p"],"instances":[],"language":{"extensions":["OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}