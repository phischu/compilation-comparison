{"sliceID":964534071072044044,"uses":[{"reference":{"otherSlice":6159683687105956249},"usedName":{"constructorName":{"identifier":"TQueue"},"constructorTypeName":{"identifier":"TQueue"}},"qualification":null},{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"valueName":{"identifier":"readTVar"}},"qualification":null},{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"valueName":{"identifier":"writeTVar"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"valueName":{"identifier":"retry"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"reverse"}},"qualification":null},{"reference":{"builtinModule":"GHC.Err"},"usedName":{"valueName":{"identifier":"error"}},"qualification":null},{"reference":{"otherSlice":6159683687105956249},"usedName":{"typeName":{"identifier":"TQueue"}},"qualification":null},{"reference":{"builtinModule":"GHC.Conc.Sync"},"usedName":{"typeName":{"identifier":"STM"}},"qualification":null}],"fragment":["readTQueue :: TQueue a -> STM a","readTQueue (TQueue read write)\n  = do xs <- readTVar read\n       case xs of\n           (x : xs') -> do writeTVar read xs'\n                           return x\n           [] -> do ys <- readTVar write\n                    case ys of\n                        [] -> retry\n                        _ -> case reverse ys of\n                                 [] -> error \"readTQueue\"\n                                 (z : zs) -> do writeTVar write []\n                                                writeTVar read zs\n                                                return z"],"instances":[],"language":{"extensions":["DeriveDataTypeable","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}