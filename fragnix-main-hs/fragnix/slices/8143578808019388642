{"sliceID":8143578808019388642,"uses":[{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"typeName":{"identifier":"IORef"}},"qualification":null},{"reference":{"otherSlice":4010822550476529195},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"otherSlice":3050566784517378532},"usedName":{"typeName":{"identifier":"Recv"}},"qualification":null},{"reference":{"otherSlice":1263632250898005386},"usedName":{"typeName":{"identifier":"RecvBuf"}},"qualification":null},{"reference":{"otherSlice":2439198389408872677},"usedName":{"typeName":{"identifier":"BufSize"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"builtinModule":"Control.Exception.Base"},"usedName":{"valueName":{"identifier":"handle"}},"qualification":"E"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"valueName":{"identifier":"readIORef"}},"qualification":null},{"reference":{"otherSlice":7675820972985982810},"usedName":{"valueName":{"identifier":"spell"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"valueName":{"identifier":"writeIORef"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Exception"},"usedName":{"typeName":{"identifier":"SomeException"}},"qualification":"E"}],"fragment":["receiveN ::\n         IORef ByteString -> Recv -> RecvBuf -> BufSize -> IO ByteString","receiveN ref recv recvBuf size\n  = E.handle handler $\n      do cached <- readIORef ref\n         (bs, leftover) <- spell cached size recv recvBuf\n         writeIORef ref leftover\n         return bs\n  where handler :: E.SomeException -> IO ByteString\n        handler _ = return \"\""],"instances":[],"language":{"extensions":["ForeignFunctionInterface","OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}