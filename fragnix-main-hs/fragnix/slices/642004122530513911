{"sliceID":642004122530513911,"uses":[{"reference":{"otherSlice":4040851656968671632},"usedName":{"valueName":{"identifier":"settingsInstallShutdownHandler"}},"qualification":null},{"reference":{"otherSlice":7174988364364243000},"usedName":{"valueName":{"identifier":"runSettingsConnection"}},"qualification":null},{"reference":{"otherSlice":5916199762372634669},"usedName":{"valueName":{"identifier":"accept"}},"qualification":null},{"reference":{"otherSlice":5120202957069314727},"usedName":{"valueName":{"identifier":"setSocketCloseOnExec"}},"qualification":null},{"reference":{"otherSlice":3227371753025299259},"usedName":{"valueName":{"identifier":"socketConnection"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":1812067098603633874},"usedName":{"valueName":{"identifier":"sClose"}},"qualification":null},{"reference":{"otherSlice":4040851656968671632},"usedName":{"typeName":{"identifier":"Settings"}},"qualification":null},{"reference":{"otherSlice":3934872489478287384},"usedName":{"typeName":{"identifier":"Socket"}},"qualification":null},{"reference":{"otherSlice":2500932139194697081},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["runSettingsSocket :: Settings -> Socket -> Application -> IO ()","runSettingsSocket set socket app\n  = do settingsInstallShutdownHandler set closeListenSocket\n       runSettingsConnection set getConn app\n  where getConn\n          = do (s, sa) <- accept socket\n               setSocketCloseOnExec s\n               conn <- socketConnection s\n               return (conn, sa)\n        closeListenSocket = sClose socket"],"instances":[],"language":{"extensions":["OverloadedStrings","ScopedTypeVariables","TupleSections","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}