{"sliceID":3394411437921862079,"uses":[{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"otherSlice":8720251315044155187},"usedName":{"valueName":{"identifier":"parseMethod"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"requestMethod"}},"qualification":null},{"reference":{"otherSlice":5740124905118575565},"usedName":{"valueName":{"identifier":"matchRoute"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":6431181074493812537},"usedName":{"valueName":{"identifier":"mkEnv"}},"qualification":null},{"reference":{"otherSlice":8238168583248793988},"usedName":{"valueName":{"identifier":"runAction"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"valueName":{"identifier":"maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":2677767377697130686},"usedName":{"typeName":{"identifier":"ScottyError"}},"qualification":null},{"reference":{"otherSlice":2071755692096765236},"usedName":{"typeName":{"identifier":"MonadIO"}},"qualification":null},{"reference":{"otherSlice":5369875643211216281},"usedName":{"typeName":{"identifier":"ErrorHandler"}},"qualification":null},{"reference":{"otherSlice":3465217907764193594},"usedName":{"typeName":{"identifier":"StdMethod"}},"qualification":null},{"reference":{"otherSlice":2635124505070119885},"usedName":{"typeName":{"identifier":"RoutePattern"}},"qualification":null},{"reference":{"otherSlice":5828371041114264500},"usedName":{"typeName":{"identifier":"ActionT"}},"qualification":null},{"reference":{"otherSlice":7711132022324310547},"usedName":{"typeName":{"identifier":"Middleware"}},"qualification":null}],"fragment":["route ::\n        (ScottyError e, MonadIO m) =>\n        ErrorHandler e m ->\n          StdMethod -> RoutePattern -> ActionT e m () -> Middleware m","route h method pat action app req\n  = let tryNext = app req in\n      if Right method == parseMethod (requestMethod req) then\n        case matchRoute pat req of\n            Just captures -> do env <- mkEnv req captures\n                                res <- runAction h env action\n                                maybe tryNext return res\n            Nothing -> tryNext\n        else tryNext"],"instances":[],"language":{"extensions":["FlexibleContexts","FlexibleInstances","OverloadedStrings","RankNTypes","ScopedTypeVariables","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}