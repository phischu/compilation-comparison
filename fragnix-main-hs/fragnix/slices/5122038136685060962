{"sliceID":5122038136685060962,"uses":[{"reference":{"otherSlice":890283142881906870},"usedName":{"constructorName":{"identifier":"Service"},"constructorTypeName":{"identifier":"PortID"}},"qualification":null},{"reference":{"otherSlice":1205898264647890103},"usedName":{"valueName":{"identifier":"listen'"}},"qualification":null},{"reference":{"otherSlice":890283142881906870},"usedName":{"constructorName":{"identifier":"PortNumber"},"constructorTypeName":{"identifier":"PortID"}},"qualification":null},{"reference":{"builtinModule":"GHC.Show"},"usedName":{"valueName":{"identifier":"show"}},"qualification":null},{"reference":{"otherSlice":890283142881906870},"usedName":{"constructorName":{"identifier":"UnixSocket"},"constructorTypeName":{"identifier":"PortID"}},"qualification":null},{"reference":{"otherSlice":6836808237061880546},"usedName":{"valueName":{"identifier":"bracketOnError"}},"qualification":null},{"reference":{"otherSlice":5388047469248839065},"usedName":{"valueName":{"identifier":"socket"}},"qualification":null},{"reference":{"otherSlice":4486329222352366024},"usedName":{"constructorName":{"identifier":"AF_UNIX"},"constructorTypeName":{"identifier":"Family"}},"qualification":null},{"reference":{"otherSlice":3163448590057951563},"usedName":{"constructorName":{"identifier":"Stream"},"constructorTypeName":{"identifier":"SocketType"}},"qualification":null},{"reference":{"otherSlice":1812067098603633874},"usedName":{"valueName":{"identifier":"sClose"}},"qualification":null},{"reference":{"otherSlice":5242549618965026866},"usedName":{"valueName":{"identifier":"setSocketOption"}},"qualification":null},{"reference":{"otherSlice":1193574024344381829},"usedName":{"constructorName":{"identifier":"ReuseAddr"},"constructorTypeName":{"identifier":"SocketOption"}},"qualification":null},{"reference":{"otherSlice":2237209920055623949},"usedName":{"valueName":{"identifier":"bindSocket"}},"qualification":null},{"reference":{"otherSlice":5051683172608853772},"usedName":{"constructorName":{"identifier":"SockAddrUnix"},"constructorTypeName":{"identifier":"SockAddr"}},"qualification":null},{"reference":{"otherSlice":877968498097418032},"usedName":{"valueName":{"identifier":"listen"}},"qualification":null},{"reference":{"otherSlice":5898727854107997666},"usedName":{"valueName":{"identifier":"maxListenQueue"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":890283142881906870},"usedName":{"typeName":{"identifier":"PortID"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":3934872489478287384},"usedName":{"typeName":{"identifier":"Socket"}},"qualification":null}],"fragment":["listenOn :: PortID -> IO Socket","listenOn (Service serv) = listen' serv\nlistenOn (PortNumber port) = listen' (show port)\nlistenOn (UnixSocket path)\n  = bracketOnError (socket AF_UNIX Stream 0) (sClose)\n      (\\ sock ->\n         do setSocketOption sock ReuseAddr 1\n            bindSocket sock (SockAddrUnix path)\n            listen sock maxListenQueue\n            return sock)"],"instances":[],"language":{"extensions":["DeriveDataTypeable","ForeignFunctionInterface","TypeSynonymInstances","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}