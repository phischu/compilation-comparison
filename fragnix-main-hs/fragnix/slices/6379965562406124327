{"sliceID":6379965562406124327,"uses":[{"reference":{"builtinModule":"GHC.IO.Unsafe"},"usedName":{"valueName":{"identifier":"unsafeDupablePerformIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":4976473949306289482},"usedName":{"valueName":{"identifier":"mallocByteString"}},"qualification":"S"},{"reference":{"otherSlice":3981949176707835469},"usedName":{"valueName":{"identifier":"getBound"}},"qualification":"W"},{"reference":{"builtinModule":"Foreign.ForeignPtr"},"usedName":{"valueName":{"identifier":"withForeignPtr"}},"qualification":null},{"reference":{"otherSlice":944238685410385305},"usedName":{"valueName":{"identifier":"runWrite"}},"qualification":"W"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"minusPtr"}},"qualification":null},{"reference":{"otherSlice":2561667241203945064},"usedName":{"valueName":{"identifier":"fromForeignPtr"}},"qualification":"S"},{"reference":{"otherSlice":3731036879417106745},"usedName":{"typeName":{"identifier":"Write"}},"qualification":"W"},{"reference":{"otherSlice":4010822550476529195},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"S"}],"fragment":["writeToByteString :: W.Write -> S.ByteString","writeToByteString !w\n  = unsafeDupablePerformIO $\n      do fptr <- S.mallocByteString (W.getBound w)\n         len <- withForeignPtr fptr $\n                  \\ ptr ->\n                    do end <- W.runWrite w ptr\n                       return $! end `minusPtr` ptr\n         return $! S.fromForeignPtr fptr 0 len"],"instances":[],"language":{"extensions":["BangPatterns","GeneralizedNewtypeDeriving","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}