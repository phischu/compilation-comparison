{"sliceID":8118116934938599542,"uses":[{"reference":{"otherSlice":1760827759730573693},"usedName":{"valueName":{"identifier":"unsafeIO"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":8772400319191501505},"usedName":{"valueName":{"identifier":"mallocByteString"}},"qualification":"S"},{"reference":{"otherSlice":6554292405457941743},"usedName":{"valueName":{"identifier":"getBound"}},"qualification":null},{"reference":{"builtinModule":"Foreign.ForeignPtr"},"usedName":{"valueName":{"identifier":"withForeignPtr"}},"qualification":null},{"reference":{"otherSlice":6715314607827612871},"usedName":{"valueName":{"identifier":"runWrite"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"builtinModule":"Prelude"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"minusPtr"}},"qualification":null},{"reference":{"otherSlice":8739065397328475340},"usedName":{"valueName":{"identifier":"fromForeignPtr"}},"qualification":"S"},{"reference":{"otherSlice":7634829019090806275},"usedName":{"typeName":{"identifier":"Write"}},"qualification":null},{"reference":{"otherSlice":8642306666063513779},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"S"}],"fragment":["writeToByteString :: Write -> S.ByteString","writeToByteString !w\n  = unsafeIO $\n      do fptr <- S.mallocByteString (getBound w)\n         len <- withForeignPtr fptr $\n                  \\ ptr ->\n                    do end <- runWrite w ptr\n                       return $! end `minusPtr` ptr\n         return $! S.fromForeignPtr fptr 0 len"],"instances":[],"language":{"extensions":["BangPatterns","Rank2Types","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}