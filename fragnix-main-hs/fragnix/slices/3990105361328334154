{"sliceID":3990105361328334154,"uses":[{"reference":{"otherSlice":1699226608098321587},"usedName":{"constructorName":{"identifier":"Empty"},"constructorTypeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":1699226608098321587},"usedName":{"constructorName":{"identifier":"Chunk"},"constructorTypeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"otherSlice":835138806566273227},"usedName":{"valueName":{"identifier":"w2c"}},"qualification":null},{"reference":{"otherSlice":4261797841410981906},"usedName":{"valueName":{"identifier":"unsafeHead"}},"qualification":"B"},{"reference":{"otherSlice":2291042143385708565},"usedName":{"valueName":{"identifier":"unsafeTail"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":">>="}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":675696118971413715},"usedName":{"valueName":{"identifier":"null"}},"qualification":"B"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":">="}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<="}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"fromIntegral"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"builtinModule":"GHC.Integer"},"usedName":{"typeName":{"identifier":"Integer"}},"qualification":null},{"reference":{"otherSlice":8642306666063513779},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"S"},{"reference":{"otherSlice":1699226608098321587},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"builtinModule":"GHC.Prim"},"usedName":{"valueName":{"identifier":"seq"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"constructorName":{"identifier":"False"},"constructorTypeName":{"identifier":"Bool"}},"qualification":null},{"reference":{"builtinModule":"GHC.Err"},"usedName":{"valueName":{"identifier":"undefined"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"*"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"operator":"^"}},"qualification":null},{"reference":{"otherSlice":3034579540352253626},"usedName":{"valueName":{"identifier":"chunk"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"typeName":{"identifier":"Maybe"}},"qualification":null}],"fragment":["readInteger :: ByteString -> Maybe (Integer, ByteString)","readInteger Empty = Nothing\nreadInteger (Chunk c0 cs0)\n  = case w2c (B.unsafeHead c0) of\n        '-' -> first (B.unsafeTail c0) cs0 >>=\n                 \\ (n, cs') -> return (-n, cs')\n        '+' -> first (B.unsafeTail c0) cs0\n        _ -> first c0 cs0\n  where first c cs\n          | B.null c =\n            case cs of\n                Empty -> Nothing\n                (Chunk c' cs') -> first' c' cs'\n          | otherwise = first' c cs\n        first' c cs\n          = case B.unsafeHead c of\n                w | w >= 48 && w <= 57 ->\n                    Just $ loop 1 (fromIntegral w - 48) [] (B.unsafeTail c) cs\n                  | otherwise -> Nothing\n        \n        loop ::\n             Int ->\n               Int ->\n                 [Integer] -> S.ByteString -> ByteString -> (Integer, ByteString)\n        loop a b c d _ | a `seq` b `seq` c `seq` d `seq` False = undefined\n        loop d acc ns c cs\n          | B.null c =\n            case cs of\n                Empty -> combine d acc ns c cs\n                (Chunk c' cs') -> loop d acc ns c' cs'\n          | otherwise =\n            case B.unsafeHead c of\n                w | w >= 48 && w <= 57 ->\n                    if d < 9 then\n                      loop (d + 1) (10 * acc + (fromIntegral w - 48)) ns (B.unsafeTail c)\n                        cs\n                      else\n                      loop 1 (fromIntegral w - 48) (fromIntegral acc : ns)\n                        (B.unsafeTail c)\n                        cs\n                  | otherwise -> combine d acc ns c cs\n        combine _ acc [] c cs = end (fromIntegral acc) c cs\n        combine d acc ns c cs\n          = end (10 ^ d * combine1 1000000000 ns + fromIntegral acc) c cs\n        combine1 _ [n] = n\n        combine1 b ns = combine1 (b * b) $ combine2 b ns\n        combine2 b (n : (m : ns))\n          = let t = n + m * b in t `seq` (t : combine2 b ns)\n        combine2 _ ns = ns\n        end n c cs = let c' = chunk c cs in c' `seq` (n, c')"],"instances":[],"language":{"extensions":["MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}