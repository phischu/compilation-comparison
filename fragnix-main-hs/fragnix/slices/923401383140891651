{"sliceID":923401383140891651,"uses":[{"reference":{"otherSlice":3618459342270263195},"usedName":{"valueName":{"identifier":"normaliseDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"++"}},"qualification":null},{"reference":{"otherSlice":874117597288315808},"usedName":{"valueName":{"identifier":"pathSeparator"}},"qualification":null},{"reference":{"otherSlice":3154808444676624085},"usedName":{"valueName":{"identifier":"splitDrive"}},"qualification":null},{"reference":{"otherSlice":1984839075869969633},"usedName":{"valueName":{"identifier":"joinDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"||"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"null"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"last"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"init"}},"qualification":null},{"reference":{"otherSlice":8016967709815987406},"usedName":{"valueName":{"identifier":"isPathSeparator"}},"qualification":null},{"reference":{"otherSlice":5485054675587763819},"usedName":{"valueName":{"identifier":"joinPath"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"otherSlice":6641964019528981894},"usedName":{"valueName":{"identifier":"splitDirectories"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"filter"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"/="}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"typeName":{"identifier":"FilePath"}},"qualification":null}],"fragment":["normalise :: FilePath -> FilePath","normalise path\n  = joinDrive' (normaliseDrive drv) (f pth) ++\n      [pathSeparator | isDirPath pth]\n  where (drv, pth) = splitDrive path\n        joinDrive' \"\" \"\" = \".\"\n        joinDrive' d p = joinDrive d p\n        isDirPath xs\n          = lastSep xs ||\n              not (null xs) && last xs == '.' && lastSep (init xs)\n        lastSep xs = not (null xs) && isPathSeparator (last xs)\n        f = joinPath . dropDots . splitDirectories . propSep\n        propSep (a : (b : xs))\n          | isPathSeparator a && isPathSeparator b = propSep (a : xs)\n        propSep (a : xs) | isPathSeparator a = pathSeparator : propSep xs\n        propSep (x : xs) = x : propSep xs\n        propSep [] = []\n        dropDots = filter (\".\" /=)"],"instances":[],"language":{"extensions":["MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}