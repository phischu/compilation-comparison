{"sliceID":3676411848428504957,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":1381793623236774754},"usedName":{"valueName":{"identifier":"runBuilder"}},"qualification":"BBE"},{"reference":{"otherSlice":3287292269152792009},"usedName":{"constructorName":{"identifier":"Done"},"constructorTypeName":{"identifier":"Next"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":3287292269152792009},"usedName":{"constructorName":{"identifier":"More"},"constructorTypeName":{"identifier":"Next"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"<"}},"qualification":null},{"reference":{"builtinModule":"GHC.Err"},"usedName":{"valueName":{"identifier":"error"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":3287292269152792009},"usedName":{"constructorName":{"identifier":"Chunk"},"constructorTypeName":{"identifier":"Next"}},"qualification":null},{"reference":{"otherSlice":8642306666063513779},"usedName":{"constructorName":{"identifier":"PS"},"constructorTypeName":{"identifier":"ByteString"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"Foreign.ForeignPtr"},"usedName":{"valueName":{"identifier":"withForeignPtr"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"plusPtr"}},"qualification":null},{"reference":{"otherSlice":359072071263032841},"usedName":{"typeName":{"identifier":"Buffer"}},"qualification":null},{"reference":{"otherSlice":4162018073486088401},"usedName":{"typeName":{"identifier":"BufSize"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"Int"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":5953179400377615708},"usedName":{"typeName":{"identifier":"Builder"}},"qualification":null}],"fragment":["toBufIOWith ::\n            Buffer -> BufSize -> (Buffer -> Int -> IO ()) -> Builder -> IO ()","toBufIOWith buf !size io builder = loop $ BBE.runBuilder builder\n  where loop writer\n          = do (len, next) <- writer buf size\n               io buf len\n               case next of\n                   Done -> return ()\n                   More minSize writer' | size < minSize ->\n                                          error \"toBufIOWith: More: minSize\"\n                                        | otherwise -> loop writer'\n                   Chunk (PS fptr off siz) writer' | len == 0 -> loop writer'\n                                                   | otherwise ->\n                                                     withForeignPtr fptr $\n                                                       \\ ptr -> io (ptr `plusPtr` off) siz"],"instances":[],"language":{"extensions":["BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}