{"sliceID":8866432911629865768,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"++"}},"qualification":null},{"reference":{"otherSlice":6938928625833616054},"usedName":{"valueName":{"identifier":"pathSeparator"}},"qualification":null},{"reference":{"otherSlice":7230202966877292553},"usedName":{"valueName":{"identifier":"splitDrive"}},"qualification":null},{"reference":{"otherSlice":2571406477320440737},"usedName":{"valueName":{"identifier":"normaliseDrive"}},"qualification":null},{"reference":{"otherSlice":2188440631764389818},"usedName":{"valueName":{"identifier":"joinDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"&&"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"identifier":"not"}},"qualification":null},{"reference":{"otherSlice":7790298422851975495},"usedName":{"valueName":{"identifier":"hasTrailingPathSeparator"}},"qualification":null},{"reference":{"otherSlice":2787982418017277986},"usedName":{"valueName":{"identifier":"isRelativeDrive"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"||"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"null"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"last"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"init"}},"qualification":null},{"reference":{"otherSlice":6826432418101837134},"usedName":{"valueName":{"identifier":"joinPath"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"."}},"qualification":null},{"reference":{"otherSlice":7337482232183814407},"usedName":{"valueName":{"identifier":"splitDirectories"}},"qualification":null},{"reference":{"builtinModule":"Data.Foldable"},"usedName":{"valueName":{"identifier":"all"}},"qualification":null},{"reference":{"otherSlice":7018349161896175961},"usedName":{"valueName":{"identifier":"isPathSeparator"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"builtinModule":"GHC.List"},"usedName":{"valueName":{"identifier":"filter"}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"/="}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"typeName":{"identifier":"FilePath"}},"qualification":null}],"fragment":["normalise :: FilePath -> FilePath","normalise path = result ++ [pathSeparator | addPathSeparator]\n  where (drv, pth) = splitDrive path\n        result = joinDrive' (normaliseDrive drv) (f pth)\n        joinDrive' \"\" \"\" = \".\"\n        joinDrive' d p = joinDrive d p\n        addPathSeparator\n          = isDirPath pth &&\n              not (hasTrailingPathSeparator result) && not (isRelativeDrive drv)\n        isDirPath xs\n          = hasTrailingPathSeparator xs ||\n              not (null xs) &&\n                last xs == '.' && hasTrailingPathSeparator (init xs)\n        f = joinPath . dropDots . propSep . splitDirectories\n        propSep (x : xs)\n          | all isPathSeparator x = [pathSeparator] : xs\n          | otherwise = x : xs\n        propSep [] = []\n        dropDots = filter (\".\" /=)"],"instances":[],"language":{"extensions":["PatternGuards","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll"],"isInstance":false}}