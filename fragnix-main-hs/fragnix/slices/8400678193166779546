{"sliceID":8400678193166779546,"uses":[{"reference":{"otherSlice":8958771362787954005},"usedName":{"valueName":{"identifier":"fdSocket"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Alloc"},"usedName":{"valueName":{"identifier":"allocaBytes"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Marshal.Utils"},"usedName":{"valueName":{"identifier":"with"}},"qualification":null},{"reference":{"builtinModule":"GHC.Real"},"usedName":{"valueName":{"identifier":"fromIntegral"}},"qualification":null},{"reference":{"otherSlice":3577467866906529459},"usedName":{"valueName":{"identifier":"throwSocketErrorIfMinus1Retry"}},"qualification":null},{"reference":{"otherSlice":8057326825563145427},"usedName":{"valueName":{"identifier":"c_getsockopt"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peekByteOff"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":1546470151414195006},"usedName":{"typeName":{"identifier":"Socket"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"builtinModule":"Foreign.C.Types"},"usedName":{"typeName":{"identifier":"CUInt"}},"qualification":null}],"fragment":["getPeerCred :: Socket -> IO (CUInt, CUInt, CUInt)","getPeerCred sock\n  = do let fd = fdSocket sock\n       let sz = (12)\n       allocaBytes sz $\n         \\ ptr_cr ->\n           with (fromIntegral sz) $\n             \\ ptr_sz ->\n               do _ <- ($) throwSocketErrorIfMinus1Retry\n                         \"Network.Socket.getPeerCred\"\n                         $ c_getsockopt fd (1) (17) ptr_cr ptr_sz\n                  pid <- ((\\ hsc_ptr -> peekByteOff hsc_ptr 0)) ptr_cr\n                  uid <- ((\\ hsc_ptr -> peekByteOff hsc_ptr 4)) ptr_cr\n                  gid <- ((\\ hsc_ptr -> peekByteOff hsc_ptr 8)) ptr_cr\n                  return (pid, uid, gid)"],"instances":[],"language":{"extensions":["DeriveDataTypeable","ForeignFunctionInterface","TypeSynonymInstances","ScopedTypeVariables","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}