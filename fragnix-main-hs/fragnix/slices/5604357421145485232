{"sliceID":5604357421145485232,"uses":[{"reference":{"otherSlice":6803663067585469519},"usedName":{"constructorName":{"identifier":"I16"},"constructorTypeName":{"identifier":"I16"}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"return"}},"qualification":null},{"reference":{"otherSlice":600428831856449117},"usedName":{"valueName":{"identifier":"empty"}},"qualification":null},{"reference":{"builtinModule":"Prelude"},"usedName":{"valueName":{"operator":"$!"}},"qualification":null},{"reference":{"otherSlice":6742866475076404776},"usedName":{"constructorName":{"identifier":"Text"},"constructorTypeName":{"identifier":"Text"}},"qualification":null},{"reference":{"otherSlice":3757422232938964943},"usedName":{"valueName":{"identifier":"run"}},"qualification":"A"},{"reference":{"otherSlice":303218261714130477},"usedName":{"valueName":{"identifier":"new"}},"qualification":"A"},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":">>="}},"qualification":null},{"reference":{"builtinModule":"GHC.Classes"},"usedName":{"valueName":{"operator":"=="}},"qualification":null},{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"identifier":"otherwise"}},"qualification":null},{"reference":{"otherSlice":2150232250643188057},"usedName":{"valueName":{"identifier":"unsafeWrite"}},"qualification":"A"},{"reference":{"builtinModule":"Control.Monad"},"usedName":{"valueName":{"operator":"=<<"}},"qualification":null},{"reference":{"builtinModule":"GHC.IO"},"usedName":{"valueName":{"identifier":"unsafeIOToST"}},"qualification":null},{"reference":{"builtinModule":"Foreign.Storable"},"usedName":{"valueName":{"identifier":"peek"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"valueName":{"identifier":"plusPtr"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"+"}},"qualification":null},{"reference":{"builtinModule":"GHC.Ptr"},"usedName":{"typeName":{"identifier":"Ptr"}},"qualification":null},{"reference":{"builtinModule":"GHC.Word"},"usedName":{"typeName":{"identifier":"Word16"}},"qualification":null},{"reference":{"otherSlice":6803663067585469519},"usedName":{"typeName":{"identifier":"I16"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null},{"reference":{"otherSlice":6742866475076404776},"usedName":{"typeName":{"identifier":"Text"}},"qualification":null}],"fragment":["fromPtr :: Ptr Word16 -> I16 -> IO Text","fromPtr _ (I16 0) = return empty\nfromPtr ptr (I16 len) = return $! Text arr 0 len\n  where arr = A.run (A.new len >>= copy)\n        copy marr = loop ptr 0\n          where loop !p !i\n                  | i == len = return marr\n                  | otherwise =\n                    do A.unsafeWrite marr i =<< unsafeIOToST (peek p)\n                       loop (p `plusPtr` 2) (i + 1)"],"instances":[],"language":{"extensions":["BangPatterns","GeneralizedNewtypeDeriving","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}