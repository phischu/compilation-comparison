{"sliceID":5355904137995347472,"uses":[{"reference":{"otherSlice":4041040564016882290},"usedName":{"constructorName":{"identifier":"Context"},"constructorTypeName":{"identifier":"Context"}},"qualification":null},{"reference":{"otherSlice":4041040564016882290},"usedName":{"valueName":{"identifier":"concurrency"}},"qualification":null},{"reference":{"otherSlice":4041040564016882290},"usedName":{"valueName":{"identifier":"streamTable"}},"qualification":null},{"reference":{"otherSlice":2801635089134887690},"usedName":{"constructorName":{"identifier":"Stream"},"constructorTypeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":2801635089134887690},"usedName":{"valueName":{"identifier":"streamState"}},"qualification":null},{"reference":{"otherSlice":2801635089134887690},"usedName":{"valueName":{"identifier":"streamNumber"}},"qualification":null},{"reference":{"otherSlice":3470072037053219185},"usedName":{"valueName":{"identifier":"remove"}},"qualification":null},{"reference":{"builtinModule":"Data.IORef"},"usedName":{"valueName":{"identifier":"atomicModifyIORef'"}},"qualification":null},{"reference":{"builtinModule":"GHC.Num"},"usedName":{"valueName":{"operator":"-"}},"qualification":null},{"reference":{"builtinModule":"GHC.IORef"},"usedName":{"valueName":{"identifier":"writeIORef"}},"qualification":null},{"reference":{"otherSlice":4015603071341496419},"usedName":{"constructorName":{"identifier":"Closed"},"constructorTypeName":{"identifier":"StreamState"}},"qualification":null},{"reference":{"otherSlice":4041040564016882290},"usedName":{"typeName":{"identifier":"Context"}},"qualification":null},{"reference":{"otherSlice":2801635089134887690},"usedName":{"typeName":{"identifier":"Stream"}},"qualification":null},{"reference":{"otherSlice":7308085713203672854},"usedName":{"typeName":{"identifier":"ClosedCode"}},"qualification":null},{"reference":{"builtinModule":"GHC.Types"},"usedName":{"typeName":{"identifier":"IO"}},"qualification":null}],"fragment":["closed :: Context -> Stream -> ClosedCode -> IO ()","closed Context{concurrency, streamTable}\n  Stream{streamState, streamNumber} cc\n  = do remove streamTable streamNumber\n       atomicModifyIORef' concurrency (\\ x -> (x - 1, ()))\n       writeIORef streamState (Closed cc)"],"instances":[],"language":{"extensions":["OverloadedStrings","NamedFieldPuns","RecordWildCards","BangPatterns","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}