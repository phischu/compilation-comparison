{"sliceID":7891708994371150311,"uses":[{"reference":{"builtinModule":"GHC.Base"},"usedName":{"valueName":{"operator":"$"}},"qualification":null},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"pathInfo"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Right"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"constructorName":{"identifier":"Left"},"constructorTypeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":7912399939934124991},"usedName":{"valueName":{"identifier":"responseLBS"}},"qualification":null},{"reference":{"otherSlice":6657016661931697053},"usedName":{"valueName":{"identifier":"status301"}},"qualification":null},{"reference":{"builtinModule":"Data.Monoid"},"usedName":{"valueName":{"identifier":"mconcat"}},"qualification":null},{"reference":{"otherSlice":2373307156530878776},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"L"},{"reference":{"otherSlice":5020094657197165553},"usedName":{"valueName":{"identifier":"uncons"}},"qualification":"B"},{"reference":{"otherSlice":30758760526534613},"usedName":{"valueName":{"identifier":"rawQueryString"}},"qualification":null},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Nothing"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":2109377013281436257},"usedName":{"valueName":{"identifier":"empty"}},"qualification":"B"},{"reference":{"builtinModule":"Data.Maybe"},"usedName":{"constructorName":{"identifier":"Just"},"constructorTypeName":{"identifier":"Maybe"}},"qualification":null},{"reference":{"otherSlice":1440920836153097319},"usedName":{"valueName":{"identifier":"cons"}},"qualification":"B"},{"reference":{"otherSlice":6742866475076404776},"usedName":{"typeName":{"identifier":"Text"}},"qualification":null},{"reference":{"builtinModule":"Data.Either"},"usedName":{"typeName":{"identifier":"Either"}},"qualification":null},{"reference":{"otherSlice":8642306666063513779},"usedName":{"typeName":{"identifier":"ByteString"}},"qualification":"B"},{"reference":{"otherSlice":2500932139194697081},"usedName":{"typeName":{"identifier":"Application"}},"qualification":null}],"fragment":["cleanPath ::\n          ([Text] -> Either B.ByteString [Text]) ->\n            B.ByteString -> ([Text] -> Application) -> Application","cleanPath splitter prefix app env sendResponse\n  = case splitter $ pathInfo env of\n        Right pieces -> app pieces env sendResponse\n        Left p -> sendResponse $\n                    responseLBS status301 [(\"Location\", mconcat [prefix, p, suffix])] $\n                      L.empty\n  where suffix\n          = case B.uncons $ rawQueryString env of\n                Nothing -> B.empty\n                Just ('?', _) -> rawQueryString env\n                _ -> B.cons '?' $ rawQueryString env"],"instances":[],"language":{"extensions":["OverloadedStrings","MultiParamTypeClasses","NondecreasingIndentation","ExplicitForAll","PatternGuards"],"isInstance":false}}